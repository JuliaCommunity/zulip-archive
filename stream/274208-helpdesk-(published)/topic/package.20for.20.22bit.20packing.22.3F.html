<html>
<head><meta charset="utf-8"><title>package for &quot;bit packing&quot;? · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html">package for &quot;bit packing&quot;?</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="226319407"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226319407" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226319407">(Feb 14 2021 at 19:00)</a>:</h4>
<p>Does anyone know if a package exists for efficiently "packing" bits?  That is, combining sequences of bits of lengths not necessarily divisible by 8 and returning a <code>Vector{UInt8}</code>, so for example, the 5-bit sequence (represented as a <code>UInt8</code>) <code>0b00011111</code> combined with the 3-bit sequence <code>0b00000111</code> gets combined into the 1-element array <code>[0xff]</code></p>



<a name="226320060"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320060" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320060">(Feb 14 2021 at 19:16)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="272650">@Jakob Nybo Nissen</span>  has a package for this, I'll see if I can find it.</p>



<a name="226320088"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320088" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakob Nybo Nissen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320088">(Feb 14 2021 at 19:17)</a>:</h4>
<p><a href="https://github.com/jakobnissen/BitBuffer.jl">https://github.com/jakobnissen/BitBuffer.jl</a> - no tests, and I wrote it as one of my first Julia "packages", so dragons be there</p>



<a name="226320091"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320091" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320091">(Feb 14 2021 at 19:17)</a>:</h4>
<p>I think I was thinking of this one: <a href="https://github.com/jakobnissen/StackCollections.jl">https://github.com/jakobnissen/StackCollections.jl</a>, so not exactly what you wanted.</p>



<a name="226320324"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320324" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320324">(Feb 14 2021 at 19:23)</a>:</h4>
<p>Wait, isn't this what <code>BitVector</code> already does?</p>



<a name="226320395"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320395" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakob Nybo Nissen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320395">(Feb 14 2021 at 19:25)</a>:</h4>
<p>BitVector is only for single-bit entries, it can't have e.g. an array of 3-bit integers</p>



<a name="226320470"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320470" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320470">(Feb 14 2021 at 19:27)</a>:</h4>
<p>Right, but <span class="user-mention" data-user-id="269446">@Expanding Man</span> wants it to all get packed together right?</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="kt">BitVector</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">chunks</span>
<span class="mi">1</span><span class="o">-</span><span class="n">element</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">UInt64</span><span class="p">}</span><span class="o">:</span>
 <span class="mh">0x00000000000000ff</span>
</code></pre></div>



<a name="226320528"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320528" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320528">(Feb 14 2021 at 19:28)</a>:</h4>
<p>Yeah, I was thinking about using <code>BitVector</code>, but I think it might wind up being extremely inefficient.  My concern is that if I start out with a bunch of bytes, converting them to bools to stick in the <code>BitVector</code> owuld be expensive</p>



<a name="226320541"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320541" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320541">(Feb 14 2021 at 19:29)</a>:</h4>
<p>but maybe not...  I should test it.  I was going to try doing that with <a href="https://oschulz.github.io/BitOperations.jl/stable/api/">BitOperations.jl</a></p>



<a name="226320553"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320553" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320553">(Feb 14 2021 at 19:29)</a>:</h4>
<p>Yeah, that's a fair concern.</p>



<a name="226320624"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320624" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakob Nybo Nissen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320624">(Feb 14 2021 at 19:31)</a>:</h4>
<p>I would probably implement an <code>AbstractVector</code> with an index saying how many bits are filled, and which offset it's at. A little manual, perhaps</p>



<a name="226320717"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/package%20for%20%22bit%20packing%22%3F/near/226320717" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/package.20for.20.22bit.20packing.22.3F.html#226320717">(Feb 14 2021 at 19:33)</a>:</h4>
<p>Yeah, but writing an implementation that shifts bits around to pack them together seems like a big pain in the ass and not something I particularly want to do</p>



<hr><p>Last updated: Jun 27 2021 at 11:01 UTC</p>
</html>