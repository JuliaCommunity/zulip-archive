<html>
<head><meta charset="utf-8"><title>Adding processes and workers · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html">Adding processes and workers</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="228785411"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228785411" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228785411">(Mar 04 2021 at 14:54)</a>:</h4>
<p>Hello: </p>
<p>I am using Julia v 1.5.3 operating on a machine with <br>
4 cores. </p>
<p>I am attempting to add workers via the REPL using: </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="o">$</span> <span class="n">julia</span>  <span class="o">--</span><span class="n">threads</span>  <span class="mi">4</span>
</code></pre></div>
<p>But I am returning the following error: </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">ERROR</span><span class="o">:</span> <span class="n">syntax</span><span class="o">:</span> <span class="n">invalid</span> <span class="n">operator</span> <span class="s">"--"</span>
</code></pre></div>
<p>I have used -t, -p, ./julia combinations<br>
but all have returned Syntax errors. </p>
<p>Any tips on this one?</p>



<a name="228785978"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228785978" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frederik Banning <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228785978">(Mar 04 2021 at 14:57)</a>:</h4>
<p>you either start the julia REPL with keywords like -p<br>
or you run <code>using Distributed; addprocs()</code> inside the REPL<br>
on a sidenote: this whole process is documented nicely in the julia docs</p>



<a name="228791328"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228791328" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228791328">(Mar 04 2021 at 15:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="303259">Frederik Banning</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228785978">said</a>:</p>
<blockquote>
<p>you either start the julia REPL with keywords like -p<br>
or you run <code>using Distributed; addprocs()</code> inside the REPL<br>
on a sidenote: this whole process is documented nicely in the julia docs</p>
</blockquote>
<p>Thank you for this reply, I did look at the <br>
documentation <a href="https://docs.julialang.org/en/v1/manual/multi-threading/#Starting-Julia-with-multiple-threads">Multi-Threading</a> previous <br>
to this question but am having trouble <br>
interpreting it. </p>
<p>My main goal is to add workers to reduce overhead<br>
and to utilize a package that can scale better than <br>
non-threaded packages.</p>



<a name="228791779"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228791779" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228791779">(Mar 04 2021 at 15:27)</a>:</h4>
<p>how do you open the repl? Do you click on a symbol?</p>



<a name="228792588"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228792588" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228792588">(Mar 04 2021 at 15:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228791779">said</a>:</p>
<blockquote>
<p>how do you open the repl? Do you click on a symbol?</p>
</blockquote>
<p>I open  by clicking the application icon. I am not familiar<br>
with the short symbol.</p>



<a name="228793019"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228793019" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228793019">(Mar 04 2021 at 15:33)</a>:</h4>
<p>Are you familiar with starting julia from a shell?</p>



<a name="228795487"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228795487" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228795487">(Mar 04 2021 at 15:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228793019">said</a>:</p>
<blockquote>
<p>Are you familiar with starting julia from a shell?</p>
</blockquote>
<p>Hi Max, </p>
<p>Sorry for not making my question clear. <br>
Yes I know how to activate Julia from the <br>
REPL: </p>
<ol>
<li>add Parralization Data Transfer library</li>
<li>implement the library/package </li>
<li>check number of processes (i.e. nproc)</li>
<li>
<p>add the number of processes usually <br>
in step with the number of cores on the <br>
machine</p>
</li>
<li>
<p>Pluto.run() to open web session on <br>
localhost:XXXX</p>
</li>
</ol>



<a name="228796996"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228796996" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228796996">(Mar 04 2021 at 15:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="390081">qu bit</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228785411">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="o">$</span> <span class="n">julia</span>  <span class="o">--</span><span class="n">threads</span>  <span class="mi">4</span>
</code></pre></div>
</blockquote>
<p>This looks to me as if you want to start julia from the julia repl, but I'm asking if you can open the julia repl from an OS (Windows, Mac, Linux depends what you use) shell</p>



<a name="228797913"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228797913" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228797913">(Mar 04 2021 at 15:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228796996">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="390081">qu bit</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228785411">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="o">$</span> <span class="n">julia</span>  <span class="o">--</span><span class="n">threads</span>  <span class="mi">4</span>
</code></pre></div>
</blockquote>
<p>This looks to me as if you want to start julia from the julia repl, but I'm asking if you can open the julia repl from an OS (Windows, Mac, Linux depends what you use) shell</p>
</blockquote>
<p>I am using the Windows Powershell REPL to activate <br>
a Julia browser session, is this what you mean?</p>
<p>Yes -- initially I used that command on the <br>
interpreter line, but it returned a syntax error. </p>
<p>I am using a package similar to Distributions<br>
and added the processes using addprocs(n).</p>



<a name="228804798"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228804798" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228804798">(Mar 04 2021 at 16:31)</a>:</h4>
<p>ok, so if you want to use the command line argument as in the snippet <code>julia --threads 4</code> you need to do it <em>before</em> starting julia, it's an argument to start julia. Otherwise, as <span class="user-mention" data-user-id="303259">@Frederik Banning</span> suggested, you can add processes and threads by their corresponding packages, e.g.</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">using</span> <span class="n">Distributed</span>
<span class="n">addprocs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>



<a name="228804968"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228804968" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228804968">(Mar 04 2021 at 16:32)</a>:</h4>
<p>but since you write something about Pluto, it's a different scenario anyways. Do you want to have multiple procs/threads in Pluto?</p>



<a name="228806054"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228806054" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228806054">(Mar 04 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228804968">said</a>:</p>
<blockquote>
<p>but since you write something about Pluto, it's a different scenario anyways. Do you want to have multiple procs/threads in Pluto?</p>
</blockquote>
<p>Yes -- My words before are confirming what you are saying. </p>
<p>Right now, I only have 1 worker running for my current session. <br>
I wanted to have 4 workers running for a single Pluto session. </p>
<p>Does adding the processes via addproc(N) achieve this?</p>



<a name="228806788"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228806788" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228806788">(Mar 04 2021 at 16:42)</a>:</h4>
<p>I think this problem isn't solved yet. Pluto launches workers and your code is executed on a slave process, therefore it's (AFAIK) currently not possible.</p>



<a name="228806950"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228806950" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228806950">(Mar 04 2021 at 16:43)</a>:</h4>
<p>However, you can execute your Pluto notebook as normal julia code with multiple workers by </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5</span> <span class="n">notebook</span><span class="o">.</span><span class="n">jl</span>
</code></pre></div>



<a name="228807895"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228807895" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228807895">(Mar 04 2021 at 16:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228806950">said</a>:</p>
<blockquote>
<p>However, you can execute your Pluto notebook as normal julia code with multiple workers by </p>
<p><div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5</span> <span class="n">notebook</span><span class="o">.</span><span class="n">jl</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Okay -- thank you Max. </p>
<p>So I understand you clearly. </p>
<p>In the Windows Powershell,  in order to run on multiple <br>
workers during a <a href="https://github.com/search?q=Pluto.jl&amp;type=Repositories">Pluto.jl</a> session, run </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5</span> <span class="n">notebook</span><span class="o">.</span><span class="n">jl</span>
</code></pre></div>
<p>Where notebook.jl is the name of the notebook you want<br>
to implement N workers on. Correct?</p>



<a name="228820809"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228820809" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Köhler <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228820809">(Mar 04 2021 at 18:02)</a>:</h4>
<p>no not during a <a href="https://github.com/search?q=Pluto.jl&amp;type=Repositories">Pluto.jl</a> session but instead of a <a href="https://github.com/search?q=Pluto.jl&amp;type=Repositories">Pluto.jl</a> session you can execute the notebook as "normal" julia code and thereby have workers, I wouldn't recommend it, try to prototype in Pluto and switch to a plain script when it comes to distributing stuff</p>



<a name="228913917"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Adding%20processes%20and%20workers/near/228913917" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qu bit <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers.html#228913917">(Mar 05 2021 at 08:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276387">Max Köhler</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Adding.20processes.20and.20workers/near/228820809">said</a>:</p>
<blockquote>
<p>no not during a <a href="https://github.com/search?q=Pluto.jl&amp;type=Repositories">Pluto.jl</a> session but instead of a <a href="https://github.com/search?q=Pluto.jl&amp;type=Repositories">Pluto.jl</a> session you can execute the notebook as "normal" julia code and thereby have workers, I wouldn't recommend it, try to prototype in Pluto and switch to a plain script when it comes to distributing stuff</p>
</blockquote>
<p>Thank you for this explanation <span class="user-mention" data-user-id="276387">@Max Köhler</span>  </p>
<p>Will addprocs() in the powershell REPL <br>
before running a Pluto session.</p>



<hr><p>Last updated: Jun 27 2021 at 11:01 UTC</p>
</html>