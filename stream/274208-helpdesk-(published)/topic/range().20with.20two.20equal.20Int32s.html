<html>
<head><meta charset="utf-8"><title>range() with two equal Int32s · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html">range() with two equal Int32s</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="227406208"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227406208" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227406208">(Feb 23 2021 at 10:02)</a>:</h4>
<p>Why does the <code>range</code> function not like to construct a range with two equal <code>Int32</code>s as inputs? It seems to work when one of the inputs is an <code>Int32</code> but not both.</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="kt">Int64</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="mf">1.0</span><span class="o">:</span><span class="mf">0.0</span><span class="o">:</span><span class="mf">1.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">Int64</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="mf">1.0</span><span class="o">:</span><span class="mf">0.0</span><span class="o">:</span><span class="mf">1.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ERROR</span><span class="o">:</span> <span class="kt">MethodError</span><span class="o">:</span> <span class="n">Cannot</span> <span class="sb">`convert`</span> <span class="n">an</span> <span class="n">object</span> <span class="n">of</span> <span class="k">type</span> <span class="kt">Tuple</span><span class="p">{</span><span class="kt">Int32</span><span class="p">,</span><span class="kt">Int64</span><span class="p">}</span> <span class="n">to</span> <span class="n">an</span> <span class="n">object</span> <span class="n">of</span> <span class="k">type</span> <span class="kt">Float64</span>
</code></pre></div>
<p>I think there's just something I don't understand about the <code>range</code> function :/ Thanks!</p>



<a name="227416638"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227416638" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zachary P Christensen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227416638">(Feb 23 2021 at 11:37)</a>:</h4>
<p>That has to be a bug. I'd create an issue.</p>



<a name="227417180"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227417180" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227417180">(Feb 23 2021 at 11:42)</a>:</h4>
<p><span class="user-mention" data-user-id="269192">@Zachary P Christensen</span> Thanks, I was wondering if it was a bug. If I don't hear any more on this thread I'll open an issue.</p>



<a name="227421260"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421260" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421260">(Feb 23 2021 at 12:19)</a>:</h4>
<p>it's kind of a bug, but you're basically asking for a non existing range?</p>



<a name="227421506"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421506" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zachary P Christensen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421506">(Feb 23 2021 at 12:21)</a>:</h4>
<p>True, but the behavior should be consistent for both integer types</p>



<a name="227421512"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421512" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Alexander <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421512">(Feb 23 2021 at 12:21)</a>:</h4>
<p>The output of that is just 10 values of 1.0, could you just use <code>ones(Int32, 10)</code> ? (Or whatever output type you need)</p>



<a name="227421554"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421554" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421554">(Feb 23 2021 at 12:21)</a>:</h4>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="mf">1.0</span><span class="o">:</span><span class="mf">1.0</span><span class="o">:</span><span class="mf">10.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="mf">1.0</span><span class="o">:</span><span class="mf">0.8888888888888888</span><span class="o">:</span><span class="mf">9.0</span>
</code></pre></div>
<p>work as expected</p>



<a name="227421679"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421679" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421679">(Feb 23 2021 at 12:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="269192">Zachary P Christensen</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s/near/227421506">said</a>:</p>
<blockquote>
<p>True, but the behavior should be consistent for both integer types</p>
</blockquote>
<p>it's certainly inconsistent, but I find more surprising that <code>range(1, 1; length=10)</code> doesn't error out</p>



<a name="227421789"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421789" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zachary P Christensen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421789">(Feb 23 2021 at 12:23)</a>:</h4>
<p>Agreed</p>



<a name="227421909"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227421909" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Alexander <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227421909">(Feb 23 2021 at 12:24)</a>:</h4>
<p>Mixing types also works for unequal values. <code> range(Int32(1), Int64(10); length=10)</code></p>



<a name="227422101"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227422101" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227422101">(Feb 23 2021 at 12:26)</a>:</h4>
<p>I find this more incosistent:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="mf">1.0</span><span class="o">:</span><span class="mf">0.0</span><span class="o">:</span><span class="mf">1.0</span>
<span class="n">ERROR</span><span class="o">:</span> <span class="kt">ArgumentError</span><span class="o">:</span> <span class="n">range</span> <span class="n">step</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">zero</span>
<span class="n">Stacktrace</span><span class="o">:</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">(</span><span class="o">::</span><span class="kt">Colon</span><span class="p">)(</span><span class="n">start</span><span class="o">::</span><span class="kt">Float64</span><span class="p">,</span> <span class="n">step</span><span class="o">::</span><span class="kt">Float64</span><span class="p">,</span> <span class="n">stop</span><span class="o">::</span><span class="kt">Float64</span><span class="p">)</span>
   <span class="err">@</span> <span class="n">Base</span> <span class="o">./</span><span class="n">twiceprecision</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">387</span>
 <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">scope</span>
   <span class="err">@</span> <span class="n">REPL</span><span class="p">[</span><span class="mi">24</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">;</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="mf">1.0</span><span class="o">:</span><span class="mf">0.0</span><span class="o">:</span><span class="mf">1.0</span>
</code></pre></div>



<a name="227448342"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227448342" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simeon Schaub <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227448342">(Feb 23 2021 at 15:28)</a>:</h4>
<p>Yeah, I'd think it would be the other way around <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="227484191"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227484191" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227484191">(Feb 23 2021 at 18:56)</a>:</h4>
<p>Thanks everyone for your help, I've opened an issue <a href="https://github.com/JuliaLang/julia/issues/39798">here</a>.</p>



<a name="227484539"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227484539" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227484539">(Feb 23 2021 at 18:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284912">Michael Alexander</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s/near/227421512">said</a>:</p>
<blockquote>
<p>The output of that is just 10 values of 1.0, could you just use <code>ones(Int32, 10)</code> ? (Or whatever output type you need)</p>
</blockquote>
<p>Normally I would, in this case I want to get <code>n</code> evenly spaced values from the minimum to the maximum of an array. I'll just add an explicit check for when <code>minimum(x) == maximum(x)</code>. :)</p>



<a name="227569249"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227569249" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kittisopikul <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227569249">(Feb 24 2021 at 09:16)</a>:</h4>
<p>I have a fix for this in <a href="https://github.com/JuliaLang/julia/pull/39808">https://github.com/JuliaLang/julia/pull/39808</a> . <code>one</code> might be better than <code>oneunit</code> here though. I need to think about this with more sleep.</p>



<a name="227572020"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/range%28%29%20with%20two%20equal%20Int32s/near/227572020" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kittisopikul <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/range().20with.20two.20equal.20Int32s.html#227572020">(Feb 24 2021 at 09:41)</a>:</h4>
<p>You might be interested in just using <code>LinRange</code>.</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="n">LinRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="mi">10</span><span class="o">-</span><span class="n">element</span> <span class="n">LinRange</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
 <span class="mf">1.0</span><span class="p">,</span><span class="mf">1.11111</span><span class="p">,</span><span class="mf">1.22222</span><span class="p">,</span><span class="mf">1.33333</span><span class="p">,</span><span class="mf">1.44444</span><span class="p">,</span><span class="mf">1.55556</span><span class="p">,</span><span class="mf">1.66667</span><span class="p">,</span><span class="mf">1.77778</span><span class="p">,</span><span class="mf">1.88889</span><span class="p">,</span><span class="mf">2.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">LinRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="mi">9</span><span class="o">-</span><span class="n">element</span> <span class="n">LinRange</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
 <span class="mf">1.0</span><span class="p">,</span><span class="mf">1.125</span><span class="p">,</span><span class="mf">1.25</span><span class="p">,</span><span class="mf">1.375</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.625</span><span class="p">,</span><span class="mf">1.75</span><span class="p">,</span><span class="mf">1.875</span><span class="p">,</span><span class="mf">2.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">LinRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="mi">11</span><span class="o">-</span><span class="n">element</span> <span class="n">LinRange</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
 <span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.3</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.6</span><span class="p">,</span><span class="mf">1.7</span><span class="p">,</span><span class="mf">1.8</span><span class="p">,</span><span class="mf">1.9</span><span class="p">,</span><span class="mf">2.0</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">LinRange</span><span class="p">(</span><span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="mi">10</span><span class="o">-</span><span class="n">element</span> <span class="n">LinRange</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
 <span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span>
</code></pre></div>



<hr><p>Last updated: Jun 27 2021 at 11:01 UTC</p>
</html>