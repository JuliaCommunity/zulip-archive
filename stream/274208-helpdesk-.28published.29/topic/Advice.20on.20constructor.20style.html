<html>
<head><meta charset="utf-8"><title>Advice on constructor style · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Advice.20on.20constructor.20style.html">Advice on constructor style</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="344324854"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Advice%20on%20constructor%20style/near/344324854" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Advice.20on.20constructor.20style.html#344324854">(Mar 24 2023 at 17:08)</a>:</h4>
<p>Consider a package that keeps some state consisting of objects of type <code>Object</code>. New objects are instantiated and given an ID with <code>Object(ID)</code>.</p>
<p>Users can select a particular object. This can be done in at least two ways:</p>
<ol>
<li>Let <code>Object(ID)</code> return the existing object if <code>ID</code> already exists and a new object otherwise.</li>
<li>Restrict <code>Object(ID)</code> to be a true constructor, which can only create new objects, and use another function (say) <code>object(ID)</code> to select existing objects.</li>
</ol>
<p>Which is better? Method 2 is arguably "purer" and more elegant, since constructors are used only to construct, but it probably requires more mental effort from users ("am I constructing or am I selecting?")</p>



<a name="344327787"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Advice%20on%20constructor%20style/near/344327787" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Advice.20on.20constructor.20style.html#344327787">(Mar 24 2023 at 17:21)</a>:</h4>
<p>As I recall, the Julia documentation hints that <code>Object</code> is expected to return a <em>new</em> object, but there are certainly packages around in the ecosystem that use constructors to access existing objects.  I myself have occasionally used them as "getters", though if I thought more carefully about it I'd probably regret that practice (<code>get(x, ::Type{Object})</code> seems better).  I think option 2 is probably better.</p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>