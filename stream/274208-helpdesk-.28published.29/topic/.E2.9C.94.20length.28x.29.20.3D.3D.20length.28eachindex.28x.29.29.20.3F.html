<html>
<head><meta charset="utf-8"><title>✔ length(x) == length(eachindex(x)) ? · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html">✔ length(x) == length(eachindex(x)) ?</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="301251419"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301251419" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leandro Martínez <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301251419">(Sep 28 2022 at 14:40)</a>:</h4>
<p>Is it always true that</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">length</span><span class="p">(</span><span class="n">eachindex</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"></span>
</code></pre></div>
<p>?</p>



<a name="301251804"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301251804" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Expanding Man <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301251804">(Sep 28 2022 at 14:42)</a>:</h4>
<p>I <em>think</em> so, but I usually do <code>prod(size(x))</code> for arrays just because I never remember what <code>length</code> is supposed to be on them.</p>



<a name="301252047"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301252047" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301252047">(Sep 28 2022 at 14:44)</a>:</h4>
<p><code>length</code> and <code>eachindex</code> are generic, so no?</p>



<a name="301258844"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301258844" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gunnar Farnebäck <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301258844">(Sep 28 2022 at 15:14)</a>:</h4>
<p>According to the docstrings:</p>
<ul>
<li><code>length</code>: Return the number of elements in the collection.</li>
<li><code>eachindex</code>:  Create an iterable object for visiting each index of an <code>AbstractArray</code>.</li>
</ul>
<p>I would interpret this as yes, assuming the methods follow the documentation.</p>



<a name="301260311"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260311" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260311">(Sep 28 2022 at 15:20)</a>:</h4>
<p>Well that is only part of the description of <code>eachindex</code>. It can be defined for anything iterable, including unbounded sequences.</p>



<a name="301260505"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260505" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260505">(Sep 28 2022 at 15:21)</a>:</h4>
<p>Just today I implemented it for a non-<code>AbstractArray</code> type as recommended by <span class="user-mention" data-user-id="306754">@Sukera</span>. There's nothing wrong with that.</p>



<a name="301260717"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260717" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260717">(Sep 28 2022 at 15:22)</a>:</h4>
<p>do note that I just recommended it due to being a convenient name, not for implying your <code>Rect</code> was an <code>AbstractArray</code></p>



<a name="301260754"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260754" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260754">(Sep 28 2022 at 15:22)</a>:</h4>
<p>Exactly.</p>



<a name="301260831"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260831" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260831">(Sep 28 2022 at 15:22)</a>:</h4>
<p>(though the docstring does support "other iterables" as well)</p>



<a name="301260953"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301260953" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301260953">(Sep 28 2022 at 15:23)</a>:</h4>
<p>Right, that is my point, that it is not exclusive to arrays.</p>



<a name="301267625"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301267625" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leandro Martínez <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301267625">(Sep 28 2022 at 15:52)</a>:</h4>
<p>So, if the sequence is bounded, then "yes"? Or do you see any other pathological case?</p>



<a name="301308271"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301308271" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakob Nybo Nissen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301308271">(Sep 28 2022 at 19:11)</a>:</h4>
<p>I think they should be the same in all cases.</p>



<a name="301309489"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301309489" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301309489">(Sep 28 2022 at 19:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="374994">Michael Fiano</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F/near/301260953">said</a>:</p>
<blockquote>
<p>Right, that is my point, that it is not exclusive to arrays.</p>
</blockquote>
<p>What does that have to do with it though? The question isn't about arrays in particular, it's about whether <code>length</code> of an object should agree with the length of it's indices, and I'd say that in every case where indices exist, they should absolutely be the same.</p>



<a name="301309806"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301309806" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301309806">(Sep 28 2022 at 19:20)</a>:</h4>
<p>Of course one can always just define a method that does something whacky, but I think defining an object where it's length doesn't agree with the length of it's indices is far enough beyond the pale that it can be ignored.</p>



<a name="301309918"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301309918" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301309918">(Sep 28 2022 at 19:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="273176">Gunnar Farnebäck</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F/near/301258844">said</a>:</p>
<blockquote>
<p>According to the docstrings:</p>
<ul>
<li><code>length</code>: Return the number of elements in the collection.</li>
<li><code>eachindex</code>:  Create an iterable object for visiting each index of an <code>AbstractArray</code>.</li>
</ul>
<p>I would interpret this as yes, assuming the methods follow the documentation.</p>
</blockquote>
<p>That wasn't in response to the original question, moreso than it was in response to the partial documentation quoting here.</p>



<a name="301310535"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301310535" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Fiano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301310535">(Sep 28 2022 at 19:24)</a>:</h4>
<p>I agree with that assumption. I did however implement <code>eachindex</code> on a non-array (without an accompanying <code>length</code> implementation) to make iteration on a type more concise, so in that particular case, which satisfied my needs, they are technically different, seeing how one is a <code>MethodError</code>.</p>



<a name="301351958"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301351958" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301351958">(Sep 29 2022 at 00:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="455681">Leandro Martínez</span> has marked this topic as resolved.</p>



<a name="301351976"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20length%28x%29%20%3D%3D%20length%28eachindex%28x%29%29%20%3F/near/301351976" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leandro Martínez <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20length.28x.29.20.3D.3D.20length.28eachindex.28x.29.29.20.3F.html#301351976">(Sep 29 2022 at 00:47)</a>:</h4>
<p>Thank you all!</p>



<hr><p>Last updated: Mar 02 2026 at 05:32 UTC</p>
</html>