<html>
<head><meta charset="utf-8"><title>Keeping JET happy · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html">Keeping JET happy</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="357991283"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/357991283" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#357991283">(May 12 2023 at 21:42)</a>:</h4>
<p>I'm starting to use JET to test one of my packages (Gaston), and it's already found a few places with subtly incorrect code <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> </p>
<p>However, in other cases I'm struggling with false positives. For example, in</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="sc">'b'</span><span class="p">,</span><span class="w"> </span><span class="sc">'c'</span><span class="p">)</span>
</code></pre></div>
<p>it complains that I may be using <code>missing</code> in a Boolean context (since <code>in</code> can return <code>missing</code>). However, I'm sure that <code>x</code> is never <code>missing</code>. How can I tell JET that? I tried</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">x</span><span class="o">::</span><span class="kt">Char</span>
<span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="sc">'b'</span><span class="p">,</span><span class="w"> </span><span class="sc">'c'</span><span class="p">)</span>
</code></pre></div>
<p>but it doesn't work. On the other hand, these work:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="o">::</span><span class="kt">Char</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="sc">'b'</span><span class="p">,</span><span class="w"> </span><span class="sc">'c'</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Char</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="sc">'b'</span><span class="p">,</span><span class="w"> </span><span class="sc">'c'</span><span class="p">))</span>
</code></pre></div>
<p>but the code becomes less readable IMO. What's the best way to proceed here?</p>



<a name="357994422"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/357994422" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#357994422">(May 12 2023 at 22:07)</a>:</h4>
<p>One more; JET complains that <code>IJulia</code> is not defined:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">isdefined</span><span class="p">(</span><span class="n">Main</span><span class="p">,</span><span class="w"> </span><span class="ss">:IJulia</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">Main</span><span class="o">.</span><span class="n">IJulia</span><span class="o">.</span><span class="n">inited</span>
</code></pre></div>
<p>It doesn't seem to take into account that <code>&amp;&amp;</code> shortcircuits.</p>



<a name="357999446"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/357999446" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#357999446">(May 12 2023 at 22:47)</a>:</h4>
<p>Can you put the <code>x::Char</code> at the place where <code>x</code> is defined?</p>



<a name="358000088"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358000088" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358000088">(May 12 2023 at 22:52)</a>:</h4>
<p>Yep! That works. <code>x</code> is actually the iteration variable in an outer <code>for</code> loop, but it turns out I can type assert it there. Thanks!</p>



<a name="358000726"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358000726" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358000726">(May 12 2023 at 22:56)</a>:</h4>
<p>This one has me completely stumped... I have <code>pl::Vector{Pair}</code> and <code>count::Int</code>:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">pl</span><span class="p">[</span><span class="n">count</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="k">end</span><span class="p">]</span>
</code></pre></div>
<p>makes JET complain with:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="w">  </span><span class="n">┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">miguel</span><span class="o">/</span><span class="n">rcs</span><span class="o">/</span><span class="n">jdev</span><span class="o">/</span><span class="n">Gaston</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">gaston_aux</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">465</span><span class="w"> </span><span class="n">pl</span><span class="p">[</span><span class="n">count</span><span class="w"> </span><span class="n">Gaston</span><span class="o">.:+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">Gaston</span><span class="o">.:</span><span class="p">(</span><span class="o">:</span><span class="p">)</span><span class="w"> </span><span class="n">lastindex</span><span class="p">(</span><span class="n">pl</span><span class="p">)]</span>
<span class="w">  </span><span class="n">│┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">925</span><span class="w"> </span><span class="n">copyto!</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">firstindex</span><span class="p">(</span><span class="n">X</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="w"> </span><span class="n">lI</span><span class="p">)</span>
<span class="w">  </span><span class="n">││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">319</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">_copyto_impl!</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">doffs</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">soffs</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">  </span><span class="n">│││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">327</span><span class="w"> </span><span class="n">unsafe_copyto!</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">doffs</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">soffs</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">  </span><span class="n">││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">281</span><span class="w"> </span><span class="n">srcp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pointer</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">soffs</span><span class="p">)</span>
<span class="w">  </span><span class="n">│││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">abstractarray</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">1243</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">_memory_offset</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">  </span><span class="n">││││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">abstractarray</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">1247</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">elsize</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">  </span><span class="n">│││││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">abstractarray</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">251</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">elsize</span><span class="p">(</span><span class="n">Base</span><span class="o">.</span><span class="n">typeof</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
<span class="w">  </span><span class="n">││││││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">213</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">aligned_sizeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">  </span><span class="n">│││││││││┌</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">reflection</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">392</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">datatype_alignment</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">  </span><span class="n">││││││││││</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">matching</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="sb">`datatype_alignment(::Type{Pair})`</span><span class="o">:</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">datatype_alignment</span><span class="p">(</span><span class="n">T</span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">Pair</span><span class="p">})</span>
</code></pre></div>
<p>Mind, this code works perfectly fine under normal usage.</p>



<a name="358001918"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358001918" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358001918">(May 12 2023 at 23:05)</a>:</h4>
<p>Ha, figured it out! This was inside a function <code>f(pl::Vector{Pair})</code> but I had to declare it as <code>f(pl::Vector{P}) where P &lt;: Pair</code>. Darn transitive (or whatever) types get me all the time <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="358001960"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358001960" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358001960">(May 12 2023 at 23:05)</a>:</h4>
<p>The undefined symbol is the one I don't know how to fix yet</p>



<a name="358040767"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358040767" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358040767">(May 13 2023 at 06:11)</a>:</h4>
<p><a href="https://github.com/search?q=JET.jl&amp;type=Repositories">JET.jl</a> can't really see through the <code>isdefined</code> check - it doesn't know what exactly you're passing as the Symbol (it just sees the symbol), so that could be improved. Maybe open an issue at JET? Not sure where the improvement would need to be, either there or in the compiler to eliminate the <code>UndefVarError</code> case there..</p>



<a name="358119674"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358119674" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358119674">(May 13 2023 at 14:33)</a>:</h4>
<p>Yeah, I can see that it's quite difficult to determine statically that during execution no undefined symbol will be found.</p>



<a name="358120130"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358120130" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358120130">(May 13 2023 at 14:36)</a>:</h4>
<p>I think cases like yours where you explicitly want to check whether IJulia is loaded should be handled by package extensions with 1.9+</p>



<a name="358121155"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358121155" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358121155">(May 13 2023 at 14:42)</a>:</h4>
<p>I want to keep compatibility with LTS, but I'll look into package extensions. I'm not sure it will do the trick, though -- IJulia is not a dependency, and I need to know if it's both loaded and active.</p>



<a name="358123983"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358123983" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Chen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358123983">(May 13 2023 at 15:00)</a>:</h4>
<p>Does JET not provide a way to ignore a block of code?</p>



<a name="358124364"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358124364" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358124364">(May 13 2023 at 15:03)</a>:</h4>
<p>I just started using it yesterday... I haven't found a way to do that.</p>



<a name="358124433"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358124433" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358124433">(May 13 2023 at 15:03)</a>:</h4>
<p>But I just skimmed through the docs.</p>



<a name="358125991"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358125991" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358125991">(May 13 2023 at 15:13)</a>:</h4>
<p>Not that I know of, no</p>



<a name="358126473"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358126473" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Chen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358126473">(May 13 2023 at 15:16)</a>:</h4>
<p>Seems like a major omission then. No linter is perfect. Granted the model JET uses may preclude any easy ways of marking this</p>



<a name="358152527"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358152527" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358152527">(May 13 2023 at 18:35)</a>:</h4>
<p>If the JET user has higher standards than the code author, the user will want JET errors for code the author doesn't want them for. The user should get the final say on what JET reports.</p>



<a name="358154045"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358154045" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358154045">(May 13 2023 at 18:50)</a>:</h4>
<p><a href="https://github.com/aviatesk/JET.jl/issues/516">https://github.com/aviatesk/JET.jl/issues/516</a></p>



<a name="358154128"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358154128" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358154128">(May 13 2023 at 18:51)</a>:</h4>
<p>But the user can always run their own tests on the code, right?</p>



<a name="358154373"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358154373" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358154373">(May 13 2023 at 18:53)</a>:</h4>
<p>The user wants to use JET to evaluate the code.</p>



<a name="358154486"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358154486" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358154486">(May 13 2023 at 18:54)</a>:</h4>
<p>And I (as package author) want my tests to pass... my point is that the user can always provide their own JET setup to evaluate code to their standards, regardless of what my own tests do</p>



<a name="358154649"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358154649" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358154649">(May 13 2023 at 18:56)</a>:</h4>
<p>Yep</p>



<a name="358157151"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358157151" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Chen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358157151">(May 13 2023 at 19:22)</a>:</h4>
<p>JET analyses are also a moving target. Getting warnings where there weren't any before after just a version bump is bad UX for a linter, and most of them take great pains to avoid that. Otherwise I'm not sure people would bother using such tools on CI.</p>



<a name="358157335"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358157335" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Chen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358157335">(May 13 2023 at 19:24)</a>:</h4>
<p>Granted, that's a different issue than being able to disable linter diagnostics for a certain section of code.</p>



<a name="358159495"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358159495" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358159495">(May 13 2023 at 19:47)</a>:</h4>
<p>This is my first time using JET, I'm waiting to see how it goes... I mostly plan to run it before tagging a new version or after significant code changes (same for AQUA)</p>



<a name="358169009"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358169009" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358169009">(May 13 2023 at 21:33)</a>:</h4>
<p>Argh... I found another kind of false positive: checking if a method exists with <code>hasmethod</code> before calling it, JET complains if the method doesn't exist.<br>
It seems like static-checking a dynamic language like Julia is going to be difficult.</p>



<a name="358169701"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358169701" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358169701">(May 13 2023 at 21:42)</a>:</h4>
<p>The hasmethod pattern isn't really any good anyway because it fails if there's internal dispatch.</p>



<a name="358170346"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358170346" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358170346">(May 13 2023 at 21:51)</a>:</h4>
<p>It's more flexible to just try the thing and have it return a success or failure value you can handle</p>



<a name="358186150"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358186150" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358186150">(May 14 2023 at 00:54)</a>:</h4>
<p>Would it better to use <code>applicable</code>?</p>



<a name="358191115"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358191115" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358191115">(May 14 2023 at 01:27)</a>:</h4>
<p>No those are equivalent</p>



<a name="358191840"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358191840" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358191840">(May 14 2023 at 01:35)</a>:</h4>
<p>In version 1.10, the compiler will know about <code>hasmethod</code>. Here's version 1.9:</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hasmethod</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">Tuple</span><span class="p">{</span><span class="kt">typeof</span><span class="p">(</span><span class="kt">x</span><span class="p">)});</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@code_typed</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">CodeInfo(</span>
<span class="go">1 ─ %1 = $(Expr(:foreigncall, :(:jl_get_world_counter), UInt64, svec(), 0, :(:ccall)))::UInt64</span>
<span class="go">│        invoke Base.to_tuple_type(Tuple{Int64}::Any)::Type{Tuple{Int64}}</span>
<span class="go">│   %3 = $(Expr(:foreigncall, :(:jl_gf_invoke_lookup), Any, svec(Any, Any, UInt64), 0, :(:ccall), Tuple{typeof(g), Int64}, :(Base.nothing), :(%1), :(%1)))::Any</span>
<span class="go">│   %4 = (%3 === Base.nothing)::Bool</span>
<span class="go">│   %5 = Core.Intrinsics.not_int(%4)::Bool</span>
<span class="go">└──      return %5</span>
<span class="go">) =&gt; Bool</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@btime</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">  111.074 ns (2 allocations: 112 bytes)</span>
<span class="go">true</span>
</code></pre></div>
<p>and here is v1.10</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hasmethod</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">Tuple</span><span class="p">{</span><span class="kt">typeof</span><span class="p">(</span><span class="kt">x</span><span class="p">)});</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@code_typed</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">CodeInfo(</span>
<span class="go">1 ─     return true</span>
<span class="go">) =&gt; Bool</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@btime</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">  1.080 ns (0 allocations: 0 bytes)</span>
<span class="go">true</span>
</code></pre></div>



<a name="358191986"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358191986" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358191986">(May 14 2023 at 01:37)</a>:</h4>
<p>Here's an example<br>
<a href="https://github.com/JuliaPreludes/Try.jl#side-notes-on-hasmethod-and-applicable-and-invoke">https://github.com/JuliaPreludes/Try.jl#side-notes-on-hasmethod-and-applicable-and-invoke</a></p>



<a name="358191998"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358191998" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358191998">(May 14 2023 at 01:37)</a>:</h4>
<p>On earlier versions of julia you can use <a href="https://github.com/search?q=Tricks.jl&amp;type=Repositories">Tricks.jl</a> for this though</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">Tricks</span><span class="o">:</span><span class="w"> </span><span class="n">static_hasmethod</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">static_hasmethod</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">Tuple</span><span class="p">{</span><span class="kt">typeof</span><span class="p">(</span><span class="kt">x</span><span class="p">)});</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@code_typed</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">CodeInfo(</span>
<span class="go">1 ─     return true</span>
<span class="go">) =&gt; Bool</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@btime</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">  1.080 ns (0 allocations: 0 bytes)</span>
<span class="go">true</span>
</code></pre></div>
<p>Be warned, Jameson says this implementation is incorrect, but so far as I'm aware, he still hasn't actually shown us an example where it is incorrect or even explained in what way</p>



<a name="358192124"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192124" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192124">(May 14 2023 at 01:39)</a>:</h4>
<p>why is this stuff not documented?</p>



<a name="358192190"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192190" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192190">(May 14 2023 at 01:40)</a>:</h4>
<p>Why is what not documented?</p>



<a name="358192201"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192201" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192201">(May 14 2023 at 01:40)</a>:</h4>
<p>that <code>hasmethod</code> and <code>applicable</code> are not reliable</p>



<a name="358192234"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192234" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192234">(May 14 2023 at 01:41)</a>:</h4>
<p>They are reliable.</p>



<a name="358192312"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192312" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192312">(May 14 2023 at 01:43)</a>:</h4>
<p>If I understand <span class="user-mention" data-user-id="326776">@jar</span> correctly, they can return incorrect results in some cases</p>



<a name="358192318"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192318" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192318">(May 14 2023 at 01:43)</a>:</h4>
<p>They had unreliable performance mostly because the devs don't want you using them to build interfaces, but then people made <a href="https://github.com/search?q=Tricks.jl&amp;type=Repositories">Tricks.jl</a> so eventually Jameson relented and made them fast</p>



<a name="358192341"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192341" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192341">(May 14 2023 at 01:43)</a>:</h4>
<p><span class="user-mention" data-user-id="269150">@Mason Protter</span> In the examples you showed, what is the role of <code>f</code>?</p>



<a name="358192390"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192390" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192390">(May 14 2023 at 01:44)</a>:</h4>
<p>Well it depends which question you mean to ask <code>hasmethod</code>: if your question is the more limited "does this function have this method" yes it's reliable. If it's "will this call run without a method error", it's not reliable.</p>



<a name="358192394"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192394" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192394">(May 14 2023 at 01:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="345789">mbaz</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy/near/358192312">said</a>:</p>
<blockquote>
<p>If I understand <span class="user-mention silent" data-user-id="326776">jar</span> correctly, they can return incorrect results in some cases</p>
</blockquote>
<p>No, Jar is just pointing out that just because a function has an applicable method, doesn't mean you won't hit an error further down the call stack</p>



<a name="358192412"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192412" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192412">(May 14 2023 at 01:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="345789">mbaz</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy/near/358192341">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="269150">Mason Protter</span> In the examples you showed, what is the role of <code>f</code>?</p>
</blockquote>
<p>Some function that only has one method</p>



<a name="358192432"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192432" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192432">(May 14 2023 at 01:45)</a>:</h4>
<p>E.g. it gives <code>false</code> on <code>Float64</code>:</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@code_typed</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="go">CodeInfo(</span>
<span class="go">1 ─     return true</span>
<span class="go">) =&gt; Bool</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="nd">@btime</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="go">  1.080 ns (0 allocations: 0 bytes)</span>
<span class="go">true</span>
</code></pre></div>



<a name="358192494"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192494" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192494">(May 14 2023 at 01:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="326776">jar</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy/near/358192390">said</a>:</p>
<blockquote>
<p>Well it depends which question you mean to ask <code>hasmethod</code>: if your question is the more limited "does this function have this method" yes it's reliable. If it's "will this call run without a method error", it's not reliable.</p>
</blockquote>
<p>To put it another way, <code>hasmethod</code> will give you the right answer, but you might still be asking a bad question.</p>



<a name="358192522"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192522" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192522">(May 14 2023 at 01:47)</a>:</h4>
<p>Yeah.  I'd say the question that <code>hasmethod</code> can answer just isn't that useful a question.</p>



<a name="358192583"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192583" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192583">(May 14 2023 at 01:48)</a>:</h4>
<p>What about this case?</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="go">(v1.9) julia&gt; f(x::Real) = x + 1</span>
<span class="go">f (generic function with 1 method)</span>

<span class="go">(v1.9) julia&gt; hasmethod(f, Tuple{Float64})</span>
<span class="go">true</span>
</code></pre></div>
<p>but <code>f</code> has no method for tuples, right?</p>



<a name="358192610"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192610" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192610">(May 14 2023 at 01:49)</a>:</h4>
<p><code>hasmethod(f, Tuple{Float64})</code> is asking if <code>f</code> has a method for <code>f(::Float64)</code>, not <code>f(::Tuple{Float64})</code>.</p>



<a name="358192676"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192676" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192676">(May 14 2023 at 01:50)</a>:</h4>
<p>I.e. <code>hasmethod(f, Tuple{T, U, V})</code> is asking if <code>f(::T, ::U, ::V)</code> exists.</p>



<a name="358192681"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192681" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192681">(May 14 2023 at 01:50)</a>:</h4>
<p>Oh, darn, I forgot about <code>hasmethod</code> taking a tuple of types <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="358192700"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192700" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192700">(May 14 2023 at 01:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="326776">jar</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy/near/358192522">said</a>:</p>
<blockquote>
<p>Yeah.  I'd say the question that <code>hasmethod</code> can answer just isn't that useful a question.</p>
</blockquote>
<p>In general no, but for interfaces, yeah I'd say it can be useful.</p>



<a name="358192702"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192702" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192702">(May 14 2023 at 01:50)</a>:</h4>
<p>OK, I think I get it now.</p>



<a name="358192712"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192712" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192712">(May 14 2023 at 01:51)</a>:</h4>
<p>i.e. a classic one is <code>hasmethod(iterate, Tuple{T})</code> to find out if you have an iterable.</p>



<a name="358192790"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192790" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192790">(May 14 2023 at 01:52)</a>:</h4>
<p>In my case, I just want to make sure a method exists for a certain combination of argument types.</p>



<a name="358192869"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192869" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192869">(May 14 2023 at 01:54)</a>:</h4>
<p>One way to find that out is to call the function with those arguments and see what happens</p>



<a name="358192887"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192887" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192887">(May 14 2023 at 01:54)</a>:</h4>
<p>With try/catch, right?</p>



<a name="358192889"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192889" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192889">(May 14 2023 at 01:54)</a>:</h4>
<p>yuck</p>



<a name="358192915"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192915" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192915">(May 14 2023 at 01:55)</a>:</h4>
<p>I don't love it</p>



<a name="358192991"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358192991" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358192991">(May 14 2023 at 01:56)</a>:</h4>
<p>What's the situation where you want to check whether a method exists?</p>



<a name="358193128"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193128" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193128">(May 14 2023 at 01:58)</a>:</h4>
<p>This is for my gnuplot frontend, Gaston. To simplify, let's say you can plot with <code>plot(x, y)</code>. Gnuplot only understands real data in a certain format, so I need to convert whatever <code>x</code> and <code>y</code> are to this format.</p>



<a name="358193150"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193150" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193150">(May 14 2023 at 01:59)</a>:</h4>
<p>Gaston handles the usual data types, but I want to let users define their own conversions.</p>



<a name="358193237"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193237" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193237">(May 14 2023 at 02:00)</a>:</h4>
<p>So I provide a function <code>convert_args</code> for users to extend. So if users call <code>plot(x::MyType, y::MyType)</code>, it works as long as users also provide <code>convert_args(x::MyType, y::MyType)</code> which returns data in gnuplot-compatible format</p>



<a name="358193293"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193293" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193293">(May 14 2023 at 02:01)</a>:</h4>
<p>Before calling <code>convert_args</code>, I check (with <code>hasmethod</code>) if such a method exists. This has been working fine for a long time, but <code>JET</code> flagged it.</p>



<a name="358193382"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193382" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193382">(May 14 2023 at 02:02)</a>:</h4>
<p>Why do you check instead of just letting it fail?</p>



<a name="358193411"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193411" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193411">(May 14 2023 at 02:03)</a>:</h4>
<p>Yeah, that seems like a case where I'd just let it fail</p>



<a name="358193413"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193413" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193413">(May 14 2023 at 02:03)</a>:</h4>
<p>Good question -- I guess the idea is to provide a nice error message explaining what the problem is and how to solve it.</p>



<a name="358193472"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193472" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193472">(May 14 2023 at 02:04)</a>:</h4>
<p>If you want to give them a good error message, you could always just do</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">convert_args</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="p">(</span><span class="kt">ArgumentError</span><span class="p">(</span><span class="s">"your types haven't yet implemented `convert_args` ..."</span><span class="p">))</span>
</code></pre></div>



<a name="358193503"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193503" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193503">(May 14 2023 at 02:05)</a>:</h4>
<p>That looks indeed like a better solution, I think I'll go with it.</p>



<a name="358193505"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193505" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193505">(May 14 2023 at 02:05)</a>:</h4>
<p>Or even better, use <code>Base.Experimental.register_error_hint</code>.</p>



<a name="358193573"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193573" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193573">(May 14 2023 at 02:06)</a>:</h4>
<p><a href="https://docs.julialang.org/en/v1/base/base/#Base.Experimental.register_error_hint">https://docs.julialang.org/en/v1/base/base/#Base.Experimental.register_error_hint</a></p>



<a name="358193581"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193581" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193581">(May 14 2023 at 02:06)</a>:</h4>
<p>Yeah, I was just looking it up</p>



<a name="358193624"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193624" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193624">(May 14 2023 at 02:07)</a>:</h4>
<p>Looks like it's worth a try</p>



<a name="358193792"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193792" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193792">(May 14 2023 at 02:11)</a>:</h4>
<p><span class="user-mention" data-user-id="269150">@Mason Protter</span> Coming back to the examples you posted above, <code>g</code> is defined as <code>g(x) = hasmethod(g, Tuple{typeof(x)})</code>, but shouldn't it be <code>g(x) = hasmethod(f, Tuple{typeof(x)})</code>?</p>



<a name="358193859"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193859" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193859">(May 14 2023 at 02:12)</a>:</h4>
<p>ha ha ha, yeah it should</p>



<a name="358193861"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193861" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193861">(May 14 2023 at 02:12)</a>:</h4>
<p>I should read what I write more carefully</p>



<a name="358193877"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193877" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193877">(May 14 2023 at 02:13)</a>:</h4>
<p>No problem <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span>  I just wanted to make sure I understood what was going on</p>



<a name="358193938"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358193938" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mbaz <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358193938">(May 14 2023 at 02:14)</a>:</h4>
<p>BTW thanks a lot for your help <span class="user-mention" data-user-id="269150">@Mason Protter</span> <span class="user-mention" data-user-id="326776">@jar</span></p>



<a name="358368438"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Keeping%20JET%20happy/near/358368438" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Keeping.20JET.20happy.html#358368438">(May 15 2023 at 06:32)</a>:</h4>
<p>arguably <code>throw(ArgumentError(...))</code> is cleaner than <code>error(ArgumentError(...))</code> <span aria-label="eyes" class="emoji emoji-1f440" role="img" title="eyes">:eyes:</span></p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>