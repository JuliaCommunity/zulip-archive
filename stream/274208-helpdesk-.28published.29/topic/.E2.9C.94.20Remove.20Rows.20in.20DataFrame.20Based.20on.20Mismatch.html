<html>
<head><meta charset="utf-8"><title>✔ Remove Rows in DataFrame Based on Mismatch · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html">✔ Remove Rows in DataFrame Based on Mismatch</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="290416956"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290416956" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dale Black <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290416956">(Jul 21 2022 at 18:44)</a>:</h4>
<p>Is there a way to filter different sized DataFrames and keep only the rows of both DataFrames where there are matching values in a specific column? E.g.</p>
<p>Given</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">df1_test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"low"</span><span class="p">,</span><span class="w"> </span><span class="s">"med"</span><span class="p">,</span><span class="w"> </span><span class="s">"high"</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"a1"</span><span class="p">,</span><span class="w"> </span><span class="s">"b1"</span><span class="p">,</span><span class="w"> </span><span class="s">"c1"</span><span class="p">]</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
<span class="n">df2_test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"med"</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"b2"</span><span class="p">]</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>I would like to return only the <code>"med"</code> row of each DataFrame since only <code>"med"</code> of <code>:col1</code> are matching</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">df1_new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"med"</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"b1"</span><span class="p">]</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
<span class="n">df2_new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"med"</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="ss">:col2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="s">"b2"</span><span class="p">]</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>



<a name="290423563"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290423563" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290423563">(Jul 21 2022 at 19:34)</a>:</h4>
<p><code>subset(d, :col1 =&gt; ByRow(==("med")))</code></p>



<a name="290423635"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290423635" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290423635">(Jul 21 2022 at 19:35)</a>:</h4>
<p>or do you mean <code>innerjoin(l,r; on=:col1)</code></p>



<a name="290424079"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290424079" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dale Black <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290424079">(Jul 21 2022 at 19:39)</a>:</h4>
<p>I am looking for a more generic approach. One that will work if <code>"low"</code> and <code>"med"</code> are matching, for example. <code>innerjoin</code> might do that, but this gives me an error</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">innerjoin</span><span class="p">(</span><span class="n">df1_test</span><span class="p">,</span><span class="w"> </span><span class="n">df2_test</span><span class="p">;</span><span class="w"> </span><span class="n">on</span><span class="o">=</span><span class="ss">:col1</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="kt">ArgumentError</span><span class="o">:</span><span class="w"> </span><span class="n">Duplicate</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">names</span><span class="o">:</span><span class="w"> </span><span class="ss">:col2</span><span class="o">.</span><span class="w"> </span><span class="n">Pass</span><span class="w"> </span><span class="n">makeunique</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w"></span>

<span class="sa">var</span><span class="s">"#make_unique!#1"</span><span class="p">(</span><span class="o">::</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">DataFrames</span><span class="o">.</span><span class="n">make_unique!</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">})</span><span class="nd">@utils</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">83</span><span class="w"></span>
<span class="c">#make_unique#2@utils.jl:105[inlined]</span><span class="w"></span>
<span class="c">#Index#5@index.jl:27[inlined]</span><span class="w"></span>
<span class="sa">var</span><span class="s">"#DataFrame#188"</span><span class="p">(</span><span class="o">::</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">DataFrames</span><span class="o">.</span><span class="kt">DataFrame</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">AbstractVector</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">})</span><span class="nd">@dataframe</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">339</span><span class="w"></span>
<span class="n">compose_inner_table</span><span class="p">(</span><span class="o">::</span><span class="kt">DataFrames</span><span class="o">.</span><span class="n">DataFrameJoiner</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">identity</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">identity</span><span class="p">))</span><span class="nd">@composer</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">135</span><span class="w"></span>
<span class="sa">var</span><span class="s">"#_join#572"</span><span class="p">(</span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Nothing</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Tuple</span><span class="p">{</span><span class="kt">Bool</span><span class="p">,</span><span class="w"> </span><span class="kt">Bool</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">identity</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">identity</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">typeof</span><span class="p">(</span><span class="n">DataFrames</span><span class="o">.</span><span class="n">_join</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="kt">DataFrames</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">DataFrames</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span><span class="nd">@composer</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">400</span><span class="w"></span>
<span class="c">#innerjoin#573@composer.jl:576[inlined]</span><span class="w"></span>
<span class="n">top</span><span class="o">-</span><span class="n">level</span><span class="w"> </span><span class="n">scope</span><span class="nd">@Local</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">[</span><span class="n">inlined</span><span class="p">]</span><span class="w"></span>
</code></pre></div>



<a name="290424643"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290424643" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sundar R <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290424643">(Jul 21 2022 at 19:44)</a>:</h4>
<p>You can do something like: </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">matching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df1_test</span><span class="o">.</span><span class="n">col1</span><span class="w"> </span><span class="o">∩</span><span class="w"> </span><span class="n">df2_test</span><span class="o">.</span><span class="n">col1</span><span class="w"></span>
<span class="mi">1</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Vector</span><span class="p">{</span><span class="kt">String</span><span class="p">}</span><span class="o">:</span><span class="w"></span>
<span class="w"> </span><span class="s">"med"</span><span class="w"></span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df1_new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">df1_test</span><span class="p">,</span><span class="w"> </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ByRow</span><span class="p">(</span><span class="k">in</span><span class="p">(</span><span class="n">matching</span><span class="p">)))</span><span class="w"></span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="n">DataFrame</span><span class="w"></span>
<span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="n">│</span><span class="w"> </span><span class="n">col1</span><span class="w">    </span><span class="n">col2</span><span class="w"></span>
<span class="w">     </span><span class="n">│</span><span class="w"> </span><span class="kt">String</span><span class="w">  </span><span class="kt">String</span><span class="w"></span>
<span class="n">─────┼────────────────</span><span class="w"></span>
<span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="n">│</span><span class="w"> </span><span class="n">med</span><span class="w">     </span><span class="n">b1</span><span class="w"></span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df2_new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">df2_test</span><span class="p">,</span><span class="w"> </span><span class="ss">:col1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ByRow</span><span class="p">(</span><span class="k">in</span><span class="p">(</span><span class="n">matching</span><span class="p">)))</span><span class="w"></span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="n">DataFrame</span><span class="w"></span>
<span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="n">│</span><span class="w"> </span><span class="n">col1</span><span class="w">    </span><span class="n">col2</span><span class="w"></span>
<span class="w">     </span><span class="n">│</span><span class="w"> </span><span class="kt">String</span><span class="w">  </span><span class="kt">String</span><span class="w"></span>
<span class="n">─────┼────────────────</span><span class="w"></span>
<span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="n">│</span><span class="w"> </span><span class="n">med</span><span class="w">     </span><span class="n">b2</span><span class="w"></span>
</code></pre></div>



<a name="290425073"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290425073" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290425073">(Jul 21 2022 at 19:48)</a>:</h4>
<p>You can pass <code>makeunique=true</code> like it says</p>



<a name="290425193"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290425193" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dale Black <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290425193">(Jul 21 2022 at 19:49)</a>:</h4>
<p>Thank you! Both of those solutions work!</p>



<a name="290425553"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Remove%20Rows%20in%20DataFrame%20Based%20on%20Mismatch/near/290425553" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Remove.20Rows.20in.20DataFrame.20Based.20on.20Mismatch.html#290425553">(Jul 21 2022 at 19:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="352971">Dale Black</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>