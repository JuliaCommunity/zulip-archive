<html>
<head><meta charset="utf-8"><title>sum with wrong keyword argument · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html">sum with wrong keyword argument</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="555318625"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555318625" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Wessel <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555318625">(Nov 13 2025 at 10:31)</a>:</h4>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">6</span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gr">ERROR: MethodError: no method matching mapfoldl(::typeof(identity), ::typeof(Base.add_sum), ::Base.Generator{…}; dims::Tuple{…})</span>
<span class="gr">This method does not support all of the given keyword arguments (and may not support any).</span>

<span class="gr">Closest candidates are:</span>
<span class="gr">  mapfoldl(::Any, ::Any, ::Any; init) got unsupported keyword argument "dims"</span>
<span class="gr">   @ Base reduce.jl:167</span>

<span class="gr">Stacktrace:</span>
<span class="gr"> [1] kwerr(::@NamedTuple{…}, ::Function, ::Function, ::Function, ::Base.Generator{…})</span>
<span class="gr">   @ Base ./error.jl:175</span>
<span class="gr"> [2] mapreduce(f::Function, op::Function, itr::Base.Generator{UnitRange{…}, typeof(identity)}; kw::@Kwargs{dims::Tuple{…}})</span>
<span class="gr">   @ Base ./reduce.jl:299</span>
<span class="gr"> [3] sum(f::Function, a::Base.Generator{UnitRange{Int64}, typeof(identity)}; kw::@Kwargs{dims::Tuple{Int64, Int64}})</span>
<span class="gr">   @ Base ./reduce.jl:524</span>
<span class="gr"> [4] sum(a::Base.Generator{UnitRange{Int64}, typeof(identity)}; kw::@Kwargs{dims::Tuple{Int64, Int64}})</span>
<span class="gr">   @ Base ./reduce.jl:553</span>
<span class="gr"> [5] top-level scope</span>
<span class="gr">   @ REPL[2]:1</span>
<span class="gr">Some type information was truncated. Use `show(err)` to see complete types.</span>
</code></pre></div>
<p>Is this expected?</p>



<a name="555318969"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555318969" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Wessel <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555318969">(Nov 13 2025 at 10:33)</a>:</h4>
<p>I would have expected that the first version throws the same error as the second.</p>



<a name="555320397"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555320397" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555320397">(Nov 13 2025 at 10:39)</a>:</h4>
<p>Yes, it's expected. There's two separate parser quirks you need to know here:</p>
<ol>
<li><code>for i = 1:2</code> is another way to write <code>for i in 1:2</code> (and in fact the former is what the parser lowers to I think because Stefan always liked the <code>=</code> syntax more, not sure of the exact history):</li>
</ol>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">]</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span>
</code></pre></div>
<ol start="2">
<li>Julia supports multidimensional comprehensions:</li>
</ol>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p">)]</span>
<span class="mi">3</span><span class="o">×</span><span class="mi">3</span><span class="w"> </span><span class="kt">Matrix</span><span class="p">{</span><span class="kt">Tuple</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="w"> </span><span class="kt">Symbol</span><span class="p">}}</span><span class="o">:</span>
<span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:a</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">:a</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">:a</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">:c</span><span class="p">)</span>
</code></pre></div>
<p>Putting that together, julia parses your first call as</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">generator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">sum</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
</code></pre></div>



<a name="555322554"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555322554" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Wessel <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555322554">(Nov 13 2025 at 10:49)</a>:</h4>
<p>Ahh, I did know about multidimensional comprehension, but did not notice that it could be parsed like that. Makes sense now.</p>



<a name="555323293"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555323293" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Wessel <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555323293">(Nov 13 2025 at 10:53)</a>:</h4>
<p>Another reason why I really should use <code>;</code> instead of <code>,</code> to set keyword arguments :)</p>



<a name="555330293"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/sum%20with%20wrong%20keyword%20argument/near/555330293" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/sum.20with.20wrong.20keyword.20argument.html#555330293">(Nov 13 2025 at 11:28)</a>:</h4>
<p>Yep. This is really the downside of julia having so much syntax. It's always nice to add special syntax for one more thing, but it does end up creating some pretty confusing edge cases</p>



<hr><p>Last updated: Mar 02 2026 at 05:32 UTC</p>
</html>