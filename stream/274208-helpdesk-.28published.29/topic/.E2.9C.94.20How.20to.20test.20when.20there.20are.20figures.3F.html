<html>
<head><meta charset="utf-8"><title>✔ How to test when there are figures? · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html">✔ How to test when there are figures?</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="429212466"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429212466" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429212466">(Mar 24 2024 at 14:32)</a>:</h4>
<p>I'm develop a package that produces visualizations. Most of my (informal) testing has been using a notebook to generate visualizations, and then constantly checking if things are still in order. <br>
I was wondering if there is any Julia package (or testing design strategy) for such situation. Perhaps comparing the SVG output to see if it matches (this seems highly innapropriate)?</p>



<a name="429219639"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429219639" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Chen <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429219639">(Mar 24 2024 at 15:26)</a>:</h4>
<p>Depending on how much run-to-run variance you expect in these visualizations, <a href="https://github.com/JuliaTesting/ReferenceTests.jl">https://github.com/JuliaTesting/ReferenceTests.jl</a> may help</p>



<a name="429236922"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429236922" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429236922">(Mar 24 2024 at 18:58)</a>:</h4>
<p>Can you explain what you don't like about comparing the svg output? Which aspects of a figure do you expect to be preserved across runs?</p>



<a name="429359985"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429359985" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429359985">(Mar 25 2024 at 11:27)</a>:</h4>
<p>If the new svg has an extra whitespace that does not affect the image, then the test would fail.</p>



<a name="429411175"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429411175" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cormullion <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429411175">(Mar 25 2024 at 13:49)</a>:</h4>
<p>Although , changes in margins and white space could be considered to be significant changes… I don’t think there’s an easy way to get the bounding box of visible graphics from the SVG - lots of transforms to analyse…. Although you could convert it to PNG and look for borders <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="429411518"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429411518" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429411518">(Mar 25 2024 at 13:50)</a>:</h4>
<p>I meant in the SVG file. Like &lt;circle cx = 1&gt; and &lt;circle cx=1&gt;.</p>



<a name="429411612"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429411612" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastian Pfitzner <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429411612">(Mar 25 2024 at 13:50)</a>:</h4>
<p>you can parse the xml and compare that</p>



<a name="429411788"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429411788" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429411788">(Mar 25 2024 at 13:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="269183">cormullion</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/How.20to.20test.20when.20there.20are.20figures.3F/near/429411175">said</a>:</p>
<blockquote>
<p>Although , changes in margins and white space could be considered to be significant changes… I don’t think there’s an easy way to get the bounding box of visible graphics from the SVG - lots of transforms to analyse…. Although you could convert it to PNG and look for borders <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>Yeah, the closer I got to was to turn it into a png, and define a distance function over the matrices in order to declare if they are similar enough.</p>



<a name="429412002"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429412002" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429412002">(Mar 25 2024 at 13:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="208845">Sebastian Pfitzner</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/How.20to.20test.20when.20there.20are.20figures.3F/near/429411612">said</a>:</p>
<blockquote>
<p>you can parse the xml and compare that</p>
</blockquote>
<p>wouldn't it still suffer the same "white space" issue?</p>



<a name="429412188"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429412188" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastian Pfitzner <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429412188">(Mar 25 2024 at 13:52)</a>:</h4>
<p>Your two examples should parse the same.</p>



<a name="429412364"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429412364" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastian Pfitzner <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429412364">(Mar 25 2024 at 13:53)</a>:</h4>
<p>But you'll still run into issues if something in your stack changes and svgs get generated differently without a visible change</p>



<a name="429412740"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429412740" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429412740">(Mar 25 2024 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="208845">Sebastian Pfitzner</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/How.20to.20test.20when.20there.20are.20figures.3F/near/429412188">said</a>:</p>
<blockquote>
<p>Your two examples should parse the same.</p>
</blockquote>
<p>I mean, if I have something like &lt;circle ... style = {fill=nothing, stroke=red}&gt; and &lt;circle ... style = {stroke=red}&gt;  I think I'd again get an error.... I can think of other similar "differences" that are not actually "important".</p>



<a name="429412954"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429412954" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429412954">(Mar 25 2024 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="208845">Sebastian Pfitzner</span> <a href="#narrow/stream/274208-helpdesk-.28published.29/topic/How.20to.20test.20when.20there.20are.20figures.3F/near/429412364">said</a>:</p>
<blockquote>
<p>But you'll still run into issues if something in your stack changes and svgs get generated differently without a visible change</p>
</blockquote>
<p>Yeah, that is the issue here. I actually want to compare the images, not the actual svg. At least, not in these tests I'm writing.</p>



<a name="429413039"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429413039" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Davi Sales Barreira <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429413039">(Mar 25 2024 at 13:55)</a>:</h4>
<p>I think raster images seems to be the way to go.<br>
Thanks for the inputs.</p>



<a name="429468462"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/429468462" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#429468462">(Mar 25 2024 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="358317">Davi Sales Barreira</span> has marked this topic as resolved.</p>



<a name="430455610"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20How%20to%20test%20when%20there%20are%20figures%3F/near/430455610" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrés Riedemann <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20How.20to.20test.20when.20there.20are.20figures.3F.html#430455610">(Mar 31 2024 at 07:19)</a>:</h4>
<p>What about this pkg <a href="https://github.com/JuliaPlots/VisualRegressionTests.jl">https://github.com/JuliaPlots/VisualRegressionTests.jl</a> ?</p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>