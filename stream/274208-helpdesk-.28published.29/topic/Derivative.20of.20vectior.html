<html>
<head><meta charset="utf-8"><title>Derivative of vectior · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html">Derivative of vectior</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="322909267"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322909267" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322909267">(Jan 22 2023 at 21:29)</a>:</h4>
<p>If I have a vector </p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">ForwardDiff</span><span class="w"></span>
<span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="mf">.9</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mf">.9</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">p</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="n">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">0</span><span class="p">]</span><span class="w"></span>
<span class="n">ForwardDiff</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="nb">pi</span><span class="p">])</span><span class="w"></span>
</code></pre></div>
<p>tells me that I have a type miss match.  How do I fix this?</p>



<a name="322911195"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322911195" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322911195">(Jan 22 2023 at 21:53)</a>:</h4>
<p>what is <code>g</code>? what is <code>x</code>?</p>



<a name="322911743"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322911743" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322911743">(Jan 22 2023 at 22:00)</a>:</h4>
<p>I changed it.</p>



<a name="322912085"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322912085" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322912085">(Jan 22 2023 at 22:05)</a>:</h4>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ForwardDiff</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">DimensionMismatch</span><span class="o">:</span><span class="w"> </span><span class="n">gradient</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">expects</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="w"> </span><span class="n">Perhaps</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">meant</span><span class="w"> </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="o">?</span><span class="w"></span>
</code></pre></div>



<a name="322912114"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322912114" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jar <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322912114">(Jan 22 2023 at 22:05)</a>:</h4>
<p>Perhaps you meant <code>ForwardDiff.derivative(f, 3)</code>?</p>



<a name="322912222"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322912222" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322912222">(Jan 22 2023 at 22:06)</a>:</h4>
<p>why isn't it an array?</p>



<a name="322912407"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322912407" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322912407">(Jan 22 2023 at 22:08)</a>:</h4>
<p>say I have a vector</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="mf">.9</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mf">.9</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">0</span><span class="p">]</span><span class="w"></span>
</code></pre></div>
<p>how would I get the derivative?</p>



<a name="322912894"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322912894" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sukera <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322912894">(Jan 22 2023 at 22:14)</a>:</h4>
<p>the <code>x</code> you're passing is just a <code>3</code>, not an array</p>



<a name="322914215"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322914215" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322914215">(Jan 22 2023 at 22:30)</a>:</h4>
<p>I changed the problem</p>



<a name="322922549"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322922549" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322922549">(Jan 23 2023 at 00:34)</a>:</h4>
<p>It looks like you're still halfway through editing the question</p>



<a name="322922666"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322922666" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322922666">(Jan 23 2023 at 00:35)</a>:</h4>
<p>Your line defining <code>r</code> doesn't have balanced parentheses, and doesnt define what <code>x</code> is. Later on, you call <code>r(x)</code>, so I'm guessing it's mean to be a function?</p>



<a name="322922888"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322922888" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322922888">(Jan 23 2023 at 00:38)</a>:</h4>
<p>When you write <code>ForwardDiff.gradient(p, [1:2pi])</code>, what are you actually trying to do here? This is saying that you're asking for the gradient of <code>p</code> at the point <code>[1:2pi]</code> which is a vector containing a unit range, which doesn't seem like a valid input.</p>



<a name="322923021"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/322923021" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mason Protter <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#322923021">(Jan 23 2023 at 00:40)</a>:</h4>
<p>I think probably what you want to do here is something like this?</p>
<div class="codehilite" data-code-language="Julia console"><pre><span></span><code><span class="gp">julia&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">ForwardDiff</span><span class="w"></span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.9</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">));</span><span class="w"></span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span><span class="w"></span>

<span class="gp">julia&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">ForwardDiff</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="nb">pi</span><span class="p">]</span><span class="w"></span>
<span class="go">6-element Vector{Vector{Float64}}:</span>
<span class="go"> [1.6442699017595095, 1.7411330053365992, 0.0]</span>
<span class="go"> [0.14811354293589507, -0.5194621159954294, 0.0]</span>
<span class="go"> [-0.5618728649816087, -0.10915361349834958, 0.0]</span>
<span class="go"> [-0.15477901047354534, 0.5137982587545297, 0.0]</span>
<span class="go"> [1.1838568224428756, -0.4416363739969377, -0.0]</span>
<span class="go"> [-1.680831194586201, -11.984723260384289, -0.0]</span>
</code></pre></div>
<p>But it's hard to tell what you're actually trying to do</p>



<a name="324099844"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Derivative%20of%20vectior/near/324099844" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> brett knoss <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Derivative.20of.20vectior.html#324099844">(Jan 27 2023 at 16:35)</a>:</h4>
<p>Sorry I'm way off I,m trying to create vectors that reflect positions on this function</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">orbit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=-</span><span class="mi">1</span><span class="o">*</span><span class="n">sqrt</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">e</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="w"></span>
<span class="n">orbitm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=-</span><span class="n">orbit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>And, I'd like to show 12 vectors from 0 to 2pi</p>



<hr><p>Last updated: Mar 02 2026 at 05:32 UTC</p>
</html>