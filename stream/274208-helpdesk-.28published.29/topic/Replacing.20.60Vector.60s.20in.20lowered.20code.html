<html>
<head><meta charset="utf-8"><title>Replacing `Vector`s in lowered code · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Replacing.20.60Vector.60s.20in.20lowered.20code.html">Replacing `Vector`s in lowered code</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="246103312"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Replacing%20%60Vector%60s%20in%20lowered%20code/near/246103312" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chad Scherrer <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Replacing.20.60Vector.60s.20in.20lowered.20code.html#246103312">(Jul 15 2021 at 14:36)</a>:</h4>
<p>There's a ton of code out there that using <code>Vector</code>s, that might sometimes be better off with something else, say an <code>SVector</code> or <code>StrideArray</code>. This can reduce allocations, and potentially give big speedups. The obvious approach is to open a PR and suggest this change. But this is a slow process, and is especially unlikely to go through for code in Julia <code>Base</code>.</p>
<p>This makes me wonder, would it be possible to tell Julia to change this in the lowered code, maybe using something like  <a href="https://github.com/search?q=IRTools.jl&amp;type=Repositories">IRTools.jl</a> or <a href="https://github.com/search?q=Cassette.jl&amp;type=Repositories">Cassette.jl</a>? Has anyone explored this sort of thing?</p>



<a name="246120102"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Replacing%20%60Vector%60s%20in%20lowered%20code/near/246120102" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Abbott <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/Replacing.20.60Vector.60s.20in.20lowered.20code.html#246120102">(Jul 15 2021 at 16:30)</a>:</h4>
<p>Once upon a time there was some discussion here: <a href="https://github.com/FluxML/Flux.jl/issues/706">https://github.com/FluxML/Flux.jl/issues/706</a></p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>