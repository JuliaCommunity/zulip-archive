<html>
<head><meta charset="utf-8"><title>✔ Doctest filter not working · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Doctest.20filter.20not.20working.html">✔ Doctest filter not working</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="https://juliacommunity.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="423269363"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Doctest%20filter%20not%20working/near/423269363" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lilith Hafner <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Doctest.20filter.20not.20working.html#423269363">(Feb 25 2024 at 14:59)</a>:</h4>
<p>Here's a snippet from a recent CI failure:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="sb">```jldoctest; filters=r"\d\d?\d?\.\d{3} [μmn]?s( \(.*\))?|0 ns|&lt;0.001 ns"</span>
<span class="sb">julia&gt; @b 1</span>
<span class="sb">0.713 ns</span>

<span class="sb">julia&gt; @b 1.0</span>
<span class="sb">1.135 ns</span>

<span class="sb">julia&gt; @b 1.0 map=Returns(nothing)</span>
<span class="sb">0 ns</span>
<span class="sb">```</span>

<span class="n">Subexpression</span><span class="o">:</span>

<span class="nd">@b</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="n">map</span><span class="o">=</span><span class="n">Returns</span><span class="p">(</span><span class="nb">nothing</span><span class="p">)</span>

<span class="n">Evaluated</span><span class="w"> </span><span class="n">output</span><span class="o">:</span>

<span class="o">&lt;</span><span class="mf">0.001</span><span class="w"> </span><span class="n">ns</span>

<span class="n">Expected</span><span class="w"> </span><span class="n">output</span><span class="o">:</span>

<span class="mi">0</span><span class="w"> </span><span class="n">ns</span>


<span class="w">  </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="n">Diff</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">color</span><span class="o">.</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="mf">0.001</span><span class="w"> </span><span class="n">ns</span>
</code></pre></div>
<p>Why is the filter not working?</p>



<a name="423271215"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Doctest%20filter%20not%20working/near/423271215" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sundar R <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Doctest.20filter.20not.20working.html#423271215">(Feb 25 2024 at 15:30)</a>:</h4>
<p>Is it just a typo/copy paste error or does the first line actually say <code>filters</code> instead of <code>filter</code> in your doctest? If the latter, that might be the issue.</p>



<a name="423271239"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Doctest%20filter%20not%20working/near/423271239" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lilith Hafner <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Doctest.20filter.20not.20working.html#423271239">(Feb 25 2024 at 15:30)</a>:</h4>
<p>I knew it was something obvious, thanks!</p>



<a name="423273790"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/%E2%9C%94%20Doctest%20filter%20not%20working/near/423273790" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-.28published.29/topic/.E2.9C.94.20Doctest.20filter.20not.20working.html#423273790">(Feb 25 2024 at 16:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="669432">Lilith Hafner</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 04:39 UTC</p>
</html>