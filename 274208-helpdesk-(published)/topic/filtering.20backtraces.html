---
layout: archive
title: Zulip Chat Archive
permalink: /stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html
---

<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html">filtering backtraces</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="224554002"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554002" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fredrik Ekre <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554002">(Jan 30 2021 at 00:23)</a>:</h4>
<p>How do I filter backtraces to only include up to top level as in <code>g()</code></p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="k">function</span> <span class="n">f</span><span class="p">()</span>
           <span class="k">try</span>
               <span class="n">error</span><span class="p">()</span>
           <span class="k">catch</span> <span class="n">err</span>
               <span class="n">print</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="n">sprint</span><span class="p">(</span><span class="n">showerror</span><span class="p">,</span> <span class="n">err</span><span class="p">),</span> <span class="n">sprint</span><span class="p">(</span><span class="n">Base</span><span class="o">.</span><span class="n">show_backtrace</span><span class="p">,</span> <span class="n">catch_backtrace</span><span class="p">()))</span>
           <span class="k">end</span>
       <span class="k">end</span>
<span class="n">f</span> <span class="p">(</span><span class="n">generic</span> <span class="k">function</span> <span class="n">with</span> <span class="mi">1</span> <span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">()</span>

<span class="n">Stacktrace</span><span class="o">:</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">error</span><span class="p">()</span>
    <span class="err">@</span> <span class="n">Base</span> <span class="o">./</span><span class="n">error</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">42</span>
  <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">f</span><span class="p">()</span>
    <span class="err">@</span> <span class="n">Main</span> <span class="o">./</span><span class="n">REPL</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:</span><span class="mi">3</span>
  <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">scope</span>
    <span class="err">@</span> <span class="n">REPL</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span>
  <span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="n">eval</span>
    <span class="err">@</span> <span class="o">./</span><span class="n">boot</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">369</span> <span class="p">[</span><span class="n">inlined</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="n">eval_user_input</span><span class="p">(</span><span class="n">ast</span><span class="o">::</span><span class="kt">Any</span><span class="p">,</span> <span class="n">backend</span><span class="o">::</span><span class="n">REPL</span><span class="o">.</span><span class="n">REPLBackend</span><span class="p">)</span>
    <span class="err">@</span> <span class="n">REPL</span> <span class="o">~/</span><span class="n">julia</span><span class="o">-</span><span class="n">master</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">stdlib</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">REPL</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">REPL</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">139</span>
  <span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="n">repl_backend_loop</span><span class="p">(</span><span class="n">backend</span><span class="o">::</span><span class="n">REPL</span><span class="o">.</span><span class="n">REPLBackend</span><span class="p">)</span>
    <span class="err">@</span> <span class="n">REPL</span> <span class="o">~/</span><span class="n">julia</span><span class="o">-</span><span class="n">master</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">stdlib</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">REPL</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">REPL</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">200</span>
<span class="p">[</span><span class="o">.....</span><span class="p">]</span>


<span class="n">julia</span><span class="o">&gt;</span> <span class="n">g</span><span class="p">()</span> <span class="o">=</span> <span class="n">error</span><span class="p">()</span>
<span class="n">g</span> <span class="p">(</span><span class="n">generic</span> <span class="k">function</span> <span class="n">with</span> <span class="mi">1</span> <span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">g</span><span class="p">()</span>
<span class="n">ERROR</span><span class="o">:</span>
<span class="n">Stacktrace</span><span class="o">:</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">error</span><span class="p">()</span>
   <span class="err">@</span> <span class="n">Base</span> <span class="o">./</span><span class="n">error</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">42</span>
 <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">g</span><span class="p">()</span>
   <span class="err">@</span> <span class="n">Main</span> <span class="o">./</span><span class="n">REPL</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span>
 <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">scope</span>
   <span class="err">@</span> <span class="n">REPL</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span>
</code></pre></div>



<a name="224554123"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554123" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fredrik Ekre <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554123">(Jan 30 2021 at 00:25)</a>:</h4>
<p>Alternative question: How do I print a stacktrace formatted like the one from <code>g</code> from a <code>catch</code> block?</p>



<a name="224554242"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554242" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554242">(Jan 30 2021 at 00:27)</a>:</h4>
<p>I believe <a href="https://stackoverflow.com/a/59690947/2442087">https://stackoverflow.com/a/59690947/2442087</a> answers your alternative question</p>



<a name="224554491"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554491" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fredrik Ekre <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554491">(Jan 30 2021 at 00:30)</a>:</h4>
<p>Thanks, I thought it tried the three-arg showerrror, guess not.</p>



<a name="224554635"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554635" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fredrik Ekre <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554635">(Jan 30 2021 at 00:32)</a>:</h4>
<p>Ah, I did try that, but it does not filter the trace.</p>



<a name="224554935"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224554935" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mosè Giordano <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224554935">(Jan 30 2021 at 00:36)</a>:</h4>
<p>Oh, I think you're right</p>



<a name="224571680"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224571680" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rafael Fourquet <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224571680">(Jan 30 2021 at 07:50)</a>:</h4>
<p>I'm not at the computer, but I think there is a function in <code>Test</code> called <code>scrub_backtrace</code> or smthg like that which does some backtrace filtering</p>



<a name="224581025"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/filtering%20backtraces/near/224581025" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fredrik Ekre <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/filtering.20backtraces.html#224581025">(Jan 30 2021 at 11:33)</a>:</h4>
<p>Thanks, <code>Base.scrub_repl_backtrace</code> it is.</p>



{% endraw %}

<hr><p>Last updated: Jun 25 2021 at 11:01 UTC</p>