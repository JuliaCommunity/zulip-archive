---
layout: archive
title: Zulip Chat Archive
permalink: /stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays.html
---

<h2>Stream: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays.html">Consistent API for dense and sparse arrays</a></h3>

<hr>

<base href="https://julialang.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="223772897"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Consistent%20API%20for%20dense%20and%20sparse%20arrays/near/223772897" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Evan Patterson <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays.html#223772897">(Jan 23 2021 at 20:11)</a>:</h4>
<p>I am finding it awkward to write code that works with both dense and sparse arrays because the APIs differ in subtle ways. Two quick examples:</p>
<ol>
<li>Initializing zero arrays: you have to use <code>zeros</code> or <code>spzeros</code> instead of something like <code>zero(Vector{Int}, 5)</code> and <code>zero(SparseVector{Int}, 5)</code>.</li>
<li>Iterating over non-zero elements: you have <code>findnz</code> for sparse arrays but not dense ones</li>
</ol>
<p>Do I just have put up with it and write the helper functions, or are there better options?</p>



<a name="223776745"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Consistent%20API%20for%20dense%20and%20sparse%20arrays/near/223776745" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeffrey Sarnoff <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays.html#223776745">(Jan 23 2021 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="278517">Evan Patterson</span> <a href="#narrow/stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays/near/223772897">said</a>:</p>
<blockquote>
<p>I am finding it awkward to write code that works with both dense and sparse arrays because the APIs differ in subtle ways.  Do I just have to ... write the helper functions, or are there better options?</p>
</blockquote>
<p>afaik Writing the smoothing, soothing, API unifying helpers that matter most and keeping them brief an in one place and not so many as to be hard to undo as the actual API s converge (one hopes and expects) while providing the specifics to JuliaArrays as separably approachable issues  would be the second best option.  Best would be a good clean solution through someone on discourse who has done it.</p>
<p>Also the #arrays channel on Slack (I added you, you can remove you as you please) has people who know more than I about this.</p>



<a name="223777686"></a>
<h4><a href="https://julialang.zulipchat.com#narrow/stream/274208-helpdesk%20%28published%29/topic/Consistent%20API%20for%20dense%20and%20sparse%20arrays/near/223777686" class="zl"><img src="https://juliacommunity.github.io/zulip-archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Evan Patterson <a href="https://juliacommunity.github.io/zulip-archive/stream/274208-helpdesk-(published)/topic/Consistent.20API.20for.20dense.20and.20sparse.20arrays.html#223777686">(Jan 23 2021 at 21:28)</a>:</h4>
<p>Thanks, I may also ask there. It's not too big a deal, but I'm sure I'm not the first or the last person to encounter this situation.</p>



{% endraw %}

<hr><p>Last updated: Mar 11 2021 at 13:06 UTC</p>