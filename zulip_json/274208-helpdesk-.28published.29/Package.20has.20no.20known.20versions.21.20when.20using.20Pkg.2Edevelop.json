[
    {
        "content": "<p>Hi,<br>\nI am facing some weird issue when trying to include a very simple package I uploaded on a github repo in a file I am developing.</p>\n<p>The small package on github is located at:<br>\n<a href=\"https://github.com/disberd/PlutoDevMacros\">https://github.com/disberd/PlutoDevMacros</a></p>\n<p>I tried creating a test package using <code>Pkg.generate(\"Test\")</code> and then simply added my own github package using <code>]add https://github.com/disberd/PlutoDevMacros</code>.</p>\n<p>All seems fine but when I try to add this Test package with <code>]dev Test\\\\</code> I get the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">Unsatisfiable</span> <span class=\"n\">requirements</span> <span class=\"n\">detected</span> <span class=\"k\">for</span> <span class=\"n\">package</span> <span class=\"n\">PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span><span class=\"o\">:</span>\n <span class=\"n\">PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span> <span class=\"n\">log</span><span class=\"o\">:</span>\n <span class=\"n\">├─PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">known</span> <span class=\"n\">versions!</span>\n <span class=\"n\">└─restricted</span> <span class=\"n\">to</span> <span class=\"n\">versions</span> <span class=\"o\">*</span> <span class=\"n\">by</span> <span class=\"n\">Test</span> <span class=\"p\">[</span><span class=\"mf\">5e82</span><span class=\"n\">cda8</span><span class=\"p\">]</span> <span class=\"n\">—</span> <span class=\"n\">no</span> <span class=\"n\">versions</span> <span class=\"n\">left</span>\n   <span class=\"n\">└─Test</span> <span class=\"p\">[</span><span class=\"mf\">5e82</span><span class=\"n\">cda8</span><span class=\"p\">]</span> <span class=\"n\">log</span><span class=\"o\">:</span>\n     <span class=\"n\">├─possible</span> <span class=\"n\">versions</span> <span class=\"n\">are</span><span class=\"o\">:</span> <span class=\"mf\">0.1.0</span> <span class=\"n\">or</span> <span class=\"n\">uninstalled</span>\n     <span class=\"n\">└─Test</span> <span class=\"p\">[</span><span class=\"mf\">5e82</span><span class=\"n\">cda8</span><span class=\"p\">]</span> <span class=\"n\">is</span> <span class=\"n\">fixed</span> <span class=\"n\">to</span> <span class=\"n\">version</span> <span class=\"mf\">0.1.0</span>\n</code></pre></div>\n<p>I am using:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">Julia</span> <span class=\"n\">Version</span> <span class=\"mf\">1.7.0</span><span class=\"o\">-</span><span class=\"n\">beta2</span>\n<span class=\"n\">Commit</span> <span class=\"n\">b570546b68</span> <span class=\"p\">(</span><span class=\"mi\">2021</span><span class=\"o\">-</span><span class=\"mi\">06</span><span class=\"o\">-</span><span class=\"mi\">20</span> <span class=\"mi\">06</span><span class=\"o\">:</span><span class=\"mi\">31</span> <span class=\"n\">UTC</span><span class=\"p\">)</span>\n<span class=\"n\">Platform</span> <span class=\"n\">Info</span><span class=\"o\">:</span>\n  <span class=\"n\">OS</span><span class=\"o\">:</span> <span class=\"n\">Windows</span> <span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">w64</span><span class=\"o\">-</span><span class=\"n\">mingw32</span><span class=\"p\">)</span>\n  <span class=\"n\">CPU</span><span class=\"o\">:</span> <span class=\"n\">Intel</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">)</span> <span class=\"n\">Core</span><span class=\"p\">(</span><span class=\"n\">TM</span><span class=\"p\">)</span> <span class=\"n\">i7</span><span class=\"o\">-</span><span class=\"mi\">8665</span><span class=\"n\">U</span> <span class=\"n\">CPU</span> <span class=\"err\">@</span> <span class=\"mf\">1.90</span><span class=\"n\">GHz</span>\n  <span class=\"n\">WORD_SIZE</span><span class=\"o\">:</span> <span class=\"mi\">64</span>\n  <span class=\"n\">LIBM</span><span class=\"o\">:</span> <span class=\"n\">libopenlibm</span>\n  <span class=\"n\">LLVM</span><span class=\"o\">:</span> <span class=\"n\">libLLVM</span><span class=\"o\">-</span><span class=\"mf\">12.0.0</span> <span class=\"p\">(</span><span class=\"n\">ORCJIT</span><span class=\"p\">,</span> <span class=\"n\">skylake</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>I tried removing the registry and completely removing the <code>.julia</code> folder as I found these suggestions on internet but none of them worked.<br>\nCan anyone help me fix this issue?</p>",
        "id": 244792259,
        "sender_full_name": "disberd",
        "timestamp": 1625302554
    },
    {
        "content": "<p>I don't quite understand what you did to get that error. Can you elaborate?</p>",
        "id": 244792383,
        "sender_full_name": "Fredrik Ekre",
        "timestamp": 1625302705
    },
    {
        "content": "<p>Ah, nevermind missed the first sentence. Yea, you would need to <code>add PlutoDevMacros</code> before <code>dev Test</code></p>",
        "id": 244792394,
        "sender_full_name": "Fredrik Ekre",
        "timestamp": 1625302749
    },
    {
        "content": "<p>I actually did that, here is my test workflow:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">julia</span><span class=\"o\">&gt;</span> <span class=\"n\">mktempdir</span><span class=\"p\">()</span> <span class=\"o\">|&gt;</span> <span class=\"n\">cd</span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span> <span class=\"k\">import</span> <span class=\"n\">Pkg</span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span> <span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"s\">\"TestPkg\"</span><span class=\"p\">)</span>\n  <span class=\"n\">Generating</span>  <span class=\"n\">project</span> <span class=\"n\">TestPkg</span><span class=\"o\">:</span>\n    <span class=\"n\">TestPkg</span><span class=\"o\">\\</span><span class=\"n\">Project</span><span class=\"o\">.</span><span class=\"n\">toml</span>\n    <span class=\"n\">TestPkg</span><span class=\"o\">\\</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">TestPkg</span><span class=\"o\">.</span><span class=\"n\">jl</span>\n<span class=\"kt\">Dict</span><span class=\"p\">{</span><span class=\"kt\">String</span><span class=\"p\">,</span> <span class=\"kt\">Base</span><span class=\"o\">.</span><span class=\"kt\">UUID</span><span class=\"p\">}</span> <span class=\"n\">with</span> <span class=\"mi\">1</span> <span class=\"n\">entry</span><span class=\"o\">:</span>\n  <span class=\"s\">\"TestPkg\"</span> <span class=\"o\">=&gt;</span> <span class=\"n\">UUID</span><span class=\"p\">(</span><span class=\"s\">\"85915433-e56f-4fae-8e0e-18f29689aba9\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span> <span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">activate</span><span class=\"p\">(</span><span class=\"s\">\"TestPkg\"</span><span class=\"p\">)</span>\n  <span class=\"n\">Activating</span> <span class=\"n\">project</span> <span class=\"n\">at</span> <span class=\"sb\">`C:\\Users\\ALBERT~1\\AppData\\Local\\Temp\\jl_4nxNIO\\TestPkg`</span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span> <span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s\">\"https://github.com/disberd/PlutoDevMacros\"</span><span class=\"p\">,</span><span class=\"n\">rev</span><span class=\"o\">=</span><span class=\"s\">\"master\"</span><span class=\"p\">)</span>\n    <span class=\"n\">Updating</span> <span class=\"n\">git</span><span class=\"o\">-</span><span class=\"n\">repo</span> <span class=\"sb\">`https://github.com/disberd/PlutoDevMacros`</span>\n<span class=\"o\">.</span>\n<span class=\"o\">.</span>\n<span class=\"o\">.</span>\n<span class=\"n\">Precompiling</span> <span class=\"n\">project</span><span class=\"o\">...</span>\n  <span class=\"mi\">2</span> <span class=\"n\">dependencies</span> <span class=\"n\">successfully</span> <span class=\"n\">precompiled</span> <span class=\"k\">in</span> <span class=\"mi\">5</span> <span class=\"n\">seconds</span>\n\n<span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">activate</span><span class=\"p\">(</span><span class=\"n\">temp</span><span class=\"o\">=</span><span class=\"nb\">true</span><span class=\"p\">)</span>\n  <span class=\"n\">Activating</span> <span class=\"n\">new</span> <span class=\"n\">project</span> <span class=\"n\">at</span> <span class=\"sb\">`C:\\Users\\ALBERT~1\\AppData\\Local\\Temp\\jl_6HJ2eO`</span>\n\n<span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">develop</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s\">\".//TestPkg\"</span><span class=\"p\">)</span>\n   <span class=\"n\">Resolving</span> <span class=\"n\">package</span> <span class=\"n\">versions</span><span class=\"o\">...</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">Unsatisfiable</span> <span class=\"n\">requirements</span> <span class=\"n\">detected</span> <span class=\"k\">for</span> <span class=\"n\">package</span> <span class=\"n\">PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span><span class=\"o\">:</span>\n <span class=\"n\">PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span> <span class=\"n\">log</span><span class=\"o\">:</span>\n <span class=\"n\">├─PlutoDevMacros</span> <span class=\"p\">[</span><span class=\"n\">a0499f29</span><span class=\"p\">]</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">known</span> <span class=\"n\">versions!</span>\n <span class=\"n\">└─restricted</span> <span class=\"n\">to</span> <span class=\"n\">versions</span> <span class=\"o\">*</span> <span class=\"n\">by</span> <span class=\"n\">TestPkg</span> <span class=\"p\">[</span><span class=\"mi\">85915433</span><span class=\"p\">]</span> <span class=\"n\">—</span> <span class=\"n\">no</span> <span class=\"n\">versions</span> <span class=\"n\">left</span>\n   <span class=\"n\">└─TestPkg</span> <span class=\"p\">[</span><span class=\"mi\">85915433</span><span class=\"p\">]</span> <span class=\"n\">log</span><span class=\"o\">:</span>\n     <span class=\"n\">├─possible</span> <span class=\"n\">versions</span> <span class=\"n\">are</span><span class=\"o\">:</span> <span class=\"mf\">0.1.0</span> <span class=\"n\">or</span> <span class=\"n\">uninstalled</span>\n     <span class=\"n\">└─TestPkg</span> <span class=\"p\">[</span><span class=\"mi\">85915433</span><span class=\"p\">]</span> <span class=\"n\">is</span> <span class=\"n\">fixed</span> <span class=\"n\">to</span> <span class=\"n\">version</span> <span class=\"mf\">0.1.0</span>\n</code></pre></div>\n<p>I also just checked on 1.6.0 but still get the error</p>",
        "id": 244792702,
        "sender_full_name": "disberd",
        "timestamp": 1625303193
    },
    {
        "content": "<p>Right, I meant that you need to <code>Pkg.add(url=\"https://github.com/disberd/PlutoDevMacros\",rev=\"master\")</code> <em>again</em> after you activate your new temp env</p>",
        "id": 244792762,
        "sender_full_name": "Fredrik Ekre",
        "timestamp": 1625303285
    },
    {
        "content": "<p>Ah that indeed works!<br>\nHow come I also need to add it from the current active environment and it is not directly handled by TestPkg directly? (If I am not using anything from PlutoDevMacros in the current active environment)</p>",
        "id": 244792852,
        "sender_full_name": "disberd",
        "timestamp": 1625303404
    },
    {
        "content": "<p>Because, when you do <code>dev TestPkg</code> the package manager looks at its project file in order to collect the dependencies. It finds <code>PlutoDevMacros</code> and it's UUID there, but then chokes since it doesn't know where to find it.</p>",
        "id": 244793046,
        "sender_full_name": "Fredrik Ekre",
        "timestamp": 1625303591
    },
    {
        "content": "<p>Ah funny enough i never had this happen in the past so I was quite puzzled</p>",
        "id": 244793950,
        "sender_full_name": "disberd",
        "timestamp": 1625304928
    },
    {
        "content": "<p>Thanks again!</p>",
        "id": 244793959,
        "sender_full_name": "disberd",
        "timestamp": 1625304957
    },
    {
        "content": "<p>It should happen everytime you add/dev a dependency which has dependencies that are not in the registry or the <em>current</em> environment.</p>",
        "id": 244794265,
        "sender_full_name": "Fredrik Ekre",
        "timestamp": 1625305190
    },
    {
        "content": "<p>So probably that's because I never included packages not in the registry before that's why!</p>",
        "id": 244799426,
        "sender_full_name": "disberd",
        "timestamp": 1625311992
    }
]