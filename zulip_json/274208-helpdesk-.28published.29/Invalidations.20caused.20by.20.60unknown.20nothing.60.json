[
    {
        "content": "<p>I sometimes see trees like this from SnoopCompile:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"nb\">nothing</span><span class=\"w\"> </span><span class=\"n\">invalidated</span><span class=\"o\">:</span>\n<span class=\"w\">   </span><span class=\"n\">backedges</span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">superseding</span><span class=\"w\"> </span><span class=\"sa\">var</span><span class=\"s\">\"#ndigits#402\"</span><span class=\"p\">(</span><span class=\"n\">base</span><span class=\"o\">::</span><span class=\"kt\">Integer</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">pad</span><span class=\"o\">::</span><span class=\"kt\">Integer</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"n\">typeof</span><span class=\"p\">(</span><span class=\"n\">ndigits</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">::</span><span class=\"kt\">Integer</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"n\">Base</span><span class=\"w\"> </span><span class=\"n\">intfuncs</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">809</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">MethodInstance</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">Base</span><span class=\"o\">.</span><span class=\"sa\">var</span><span class=\"s\">\"#ndigits#402\"</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Int64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"kt\">Int64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"n\">typeof</span><span class=\"p\">(</span><span class=\"n\">ndigits</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"kt\">Integer</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">children</span><span class=\"p\">)</span>\n<span class=\"w\">               </span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">superseding</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Type</span><span class=\"p\">{</span><span class=\"kt\">T</span><span class=\"p\">},</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">::</span><span class=\"kt\">AbstractArray</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">where</span><span class=\"w\"> </span><span class=\"kt\">T</span><span class=\"o\">&lt;:</span><span class=\"kt\">Array</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"n\">Base</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">614</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">MethodInstance</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Type</span><span class=\"p\">{</span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Any</span><span class=\"p\">}}},</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Any</span><span class=\"p\">})</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">children</span><span class=\"p\">)</span>\n<span class=\"w\">               </span><span class=\"mi\">3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">superseding</span><span class=\"w\"> </span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"n\">bc</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"w\"> </span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">juliaup</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">-</span><span class=\"mf\">1.12.2</span><span class=\"o\">+</span><span class=\"mf\">0.</span><span class=\"n\">x64</span><span class=\"o\">.</span><span class=\"n\">linux</span><span class=\"o\">.</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">share</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">stdlib</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.12</span><span class=\"o\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">structuredbroadcast</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">148</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">MethodInstance</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Base</span><span class=\"o\">.</span><span class=\"n\">Broadcast</span><span class=\"o\">.</span><span class=\"kt\">Broadcasted</span><span class=\"p\">{</span><span class=\"kt\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"kt\">StructuredMatrixStyle</span><span class=\"p\">{</span><span class=\"kt\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"kt\">LowerTriangular</span><span class=\"p\">}})</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">children</span><span class=\"p\">)</span>\n<span class=\"w\">               </span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">superseding</span><span class=\"w\"> </span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"n\">bc</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"w\"> </span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">juliaup</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">-</span><span class=\"mf\">1.12.2</span><span class=\"o\">+</span><span class=\"mf\">0.</span><span class=\"n\">x64</span><span class=\"o\">.</span><span class=\"n\">linux</span><span class=\"o\">.</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">share</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">stdlib</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.12</span><span class=\"o\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">structuredbroadcast</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">148</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">MethodInstance</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Base</span><span class=\"o\">.</span><span class=\"n\">Broadcast</span><span class=\"o\">.</span><span class=\"kt\">Broadcasted</span><span class=\"p\">{</span><span class=\"kt\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"kt\">StructuredMatrixStyle</span><span class=\"p\">{</span><span class=\"kt\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"kt\">UpperTriangular</span><span class=\"p\">}})</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">children</span><span class=\"p\">)</span>\n<span class=\"w\">               </span><span class=\"mi\">5</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">superseding</span><span class=\"w\"> </span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"n\">bc</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"w\"> </span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">juliaup</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">-</span><span class=\"mf\">1.12.2</span><span class=\"o\">+</span><span class=\"mf\">0.</span><span class=\"n\">x64</span><span class=\"o\">.</span><span class=\"n\">linux</span><span class=\"o\">.</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">share</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">stdlib</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.12</span><span class=\"o\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">structuredbroadcast</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">148</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">MethodInstance</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"n\">fzeropreserving</span><span class=\"p\">(</span><span class=\"o\">::</span><span class=\"kt\">Base</span><span class=\"o\">.</span><span class=\"n\">Broadcast</span><span class=\"o\">.</span><span class=\"kt\">Broadcasted</span><span class=\"p\">{</span><span class=\"kt\">LinearAlgebra</span><span class=\"o\">.</span><span class=\"kt\">StructuredMatrixStyle</span><span class=\"p\">{</span><span class=\"kt\">T</span><span class=\"p\">}}</span><span class=\"w\"> </span><span class=\"k\">where</span><span class=\"w\"> </span><span class=\"kt\">T</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">children</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>Does it mean that SnoopCompile can't figure out which method those invalidations were caused by?</p>",
        "id": 564307366,
        "sender_full_name": "James Wrigley",
        "timestamp": 1765992493
    }
]