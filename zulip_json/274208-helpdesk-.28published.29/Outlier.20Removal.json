[
    {
        "content": "<p>Hello Everyone, </p>\n<p>using GLM, Lathe, MLBase</p>\n<p>I have a dataframe similar to: </p>\n<p>DF.A = [1,2,3,4,5,6,7,8]<br>\nDF.B = [2,45,53,42,51,34,900,55,36]</p>\n<p>I would like to remove the outliers from <br>\nthe DF.B and am using (for 1st quartile): </p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code>    <span class=\"n\">first_percentile</span> <span class=\"o\">=</span> <span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"mi\">25</span><span class=\"p\">)</span>\n    <span class=\"n\">iqr_value</span> <span class=\"o\">=</span> <span class=\"n\">iqr</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">)</span>\n    <span class=\"n\">FirstOut</span> <span class=\"o\">=</span> <span class=\"n\">DF</span><span class=\"p\">[</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span>  <span class=\"o\">.&gt;</span> <span class=\"p\">(</span><span class=\"n\">first_percentile</span> <span class=\"o\">-</span> <span class=\"mf\">1.5</span><span class=\"o\">*</span><span class=\"n\">iqr_value</span><span class=\"p\">),</span><span class=\"o\">:</span><span class=\"p\">]</span>\n</code></pre></div>\n<p>Similiarly I am using (for the 4th quartile):</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">fourth_percentile</span> <span class=\"o\">=</span> <span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"mi\">75</span><span class=\"p\">)</span>\n    <span class=\"n\">iqr_value</span> <span class=\"o\">=</span> <span class=\"n\">iqr</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">)</span>\n    <span class=\"n\">FourthOut</span> <span class=\"o\">=</span> <span class=\"n\">DF</span><span class=\"p\">[</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span>  <span class=\"o\">.&lt;</span> <span class=\"p\">(</span><span class=\"n\">fourth_percentile</span> <span class=\"o\">+</span> <span class=\"mf\">1.5</span><span class=\"o\">*</span><span class=\"n\">iqr_value</span><span class=\"p\">),</span><span class=\"o\">:</span><span class=\"p\">]</span>\n</code></pre></div>\n<p>For both dataframes, these approaches have not removed the <br>\noutliers. Could someone explain how I could adjust my code to <br>\nproduce a resultant dataframe without outliers in the specified<br>\ncolumn (and associated rows). </p>\n<p>Thanks,</p>",
        "id": 230351877,
        "sender_full_name": "QuBit",
        "timestamp": 1615818061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"390081\">qu bit</span> </p>\n<p>Apply the filter  &amp; percentile method to <br>\nremove outliers from the IQR as:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"k\">begin</span>\n<span class=\"n\">first_perc</span> <span class=\"o\">=</span> <span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"mi\">25</span><span class=\"p\">)</span>\n<span class=\"n\">last_perc</span> <span class=\"o\">=</span> <span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">,</span><span class=\"mi\">75</span><span class=\"p\">)</span>\n<span class=\"n\">IQR_value</span> <span class=\"o\">=</span> <span class=\"n\">iqr</span><span class=\"p\">(</span><span class=\"n\">DF</span><span class=\"o\">.</span><span class=\"n\">B</span><span class=\"p\">)</span>\n<span class=\"n\">DF_NO</span> <span class=\"o\">=</span> <span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">-&gt;</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">B</span> <span class=\"o\">.&gt;</span> <span class=\"n\">first_perc</span> <span class=\"o\">-</span> <span class=\"mf\">1.5</span><span class=\"o\">*</span><span class=\"n\">IQR_value</span> <span class=\"o\">&amp;&amp;</span>\n             <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">B</span> <span class=\"o\">.&lt;</span> <span class=\"n\">last_perc</span> <span class=\"o\">+</span> <span class=\"mf\">1.5</span><span class=\"o\">*</span><span class=\"n\">IQR_value</span>  <span class=\"p\">,</span> <span class=\"n\">DF</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n</code></pre></div>\n<p>You can then check the :std using the describe() method<br>\nto see what improvement might have been made from the <br>\nprocess (es).</p>",
        "id": 230813951,
        "sender_full_name": "QuBit",
        "timestamp": 1616043419
    },
    {
        "content": "<p>Have a look at<br>\n<a href=\"https://github.com/jbytecode/LinRegOutliers\">https://github.com/jbytecode/LinRegOutliers</a></p>",
        "id": 230815722,
        "sender_full_name": "Fredrik Bagge Carlson",
        "timestamp": 1616045443
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"272599\">Fredrik Bagge Carlson</span> </p>\n<p>Could you provide an example how this could <br>\nbe applied to the question I posted? </p>\n<p>Thank you,</p>",
        "id": 231729451,
        "sender_full_name": "QuBit",
        "timestamp": 1616631031
    }
]