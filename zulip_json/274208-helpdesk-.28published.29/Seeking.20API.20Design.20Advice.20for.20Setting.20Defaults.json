[
    {
        "content": "<p>I have a constructor for a mutable <code>Chart</code> struct that is used like this.</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"k\">using</span><span class=\"w\"> </span><span class=\"n\">OnlineTechnicalIndicators</span>\n<span class=\"k\">using</span><span class=\"w\"> </span><span class=\"n\">TechnicalIndicatorCharts</span>\n\n<span class=\"n\">golden_cross_chart</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Chart</span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">\"AAPL\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">indicators</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">),</span><span class=\"w\">         </span><span class=\"c\"># Setup indicators</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">],</span>\n<span class=\"w\">    </span><span class=\"n\">visuals</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(</span>\n<span class=\"w\">            </span><span class=\"ss\">:label_name</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"s\">\"SMA 50\"</span><span class=\"p\">,</span><span class=\"w\">      </span><span class=\"c\"># Describe how to draw indicators</span>\n<span class=\"w\">            </span><span class=\"ss\">:line_color</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"s\">\"#E072A4\"</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"ss\">:line_width</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">        </span><span class=\"p\">),</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(</span>\n<span class=\"w\">            </span><span class=\"ss\">:label_name</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"s\">\"SMA 200\"</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"ss\">:line_color</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"s\">\"#3D3B8E\"</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"ss\">:line_width</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n<span class=\"w\">        </span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>There's a 1-to-1 correspondence between the values in <code>indicators</code> and the values in <code>visuals</code>.  This is for my unreleased library <a href=\"https://github.com/g-gundam/TechnicalIndicatorCharts.jl\">TechnicalIndicatorCharts.jl</a>.</p>\n<h2>What if I don't care about colors?</h2>\n<p>If I don't care how it looks, and I just want to use the defaults, this is what I currently have to do.</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">golden_cross_chart</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Chart</span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">\"AAPL\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">indicators</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">),</span><span class=\"w\">         </span><span class=\"c\"># Setup indicators</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">],</span>\n<span class=\"w\">    </span><span class=\"n\">visuals</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(),</span><span class=\"w\">                           </span><span class=\"c\"># Not the prettiest, but tolerable.</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<h2>It can get worse.</h2>\n<p>That might not be so bad, but what if I added Bollinger Bands which is drawn with 3 lines instead of just one like SMA.</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">golden_cross_chart</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Chart</span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">\"AAPL\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">indicators</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">),</span><span class=\"w\">         </span><span class=\"c\"># Setup indicators</span>\n<span class=\"w\">        </span><span class=\"kt\">SMA</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">),</span>\n<span class=\"w\">        </span><span class=\"kt\">BB</span><span class=\"p\">{</span><span class=\"kt\">Float64</span><span class=\"p\">}(;</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">],</span>\n<span class=\"w\">    </span><span class=\"n\">visuals</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(),</span><span class=\"w\">                           </span><span class=\"c\"># Not the prettiest</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(),</span>\n<span class=\"w\">        </span><span class=\"kt\">Dict</span><span class=\"p\">(</span>\n<span class=\"w\">            </span><span class=\"ss\">:upper</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"kt\">Dict</span><span class=\"p\">(),</span><span class=\"w\">             </span><span class=\"c\"># Now it's getting ugly.</span>\n<span class=\"w\">            </span><span class=\"ss\">:central</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"kt\">Dict</span><span class=\"p\">(),</span>\n<span class=\"w\">            </span><span class=\"ss\">:lower</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"kt\">Dict</span><span class=\"p\">()</span><span class=\"w\">              </span><span class=\"c\"># All this typing just for defaults?!</span>\n<span class=\"w\">        </span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</code></pre></div>",
        "id": 489019256,
        "sender_full_name": "G Gundam",
        "timestamp": 1734203794
    },
    {
        "content": "<h2>How should I do this?</h2>\n<p>I want to be able to declare defaults in the visuals vector with way less typing.  How could this be accomplished?</p>",
        "id": 489019296,
        "sender_full_name": "G Gundam",
        "timestamp": 1734203853
    }
]