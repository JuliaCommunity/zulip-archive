[
    {
        "content": "<p>Any idea why once(!) yesterday <a href=\"https://github.com/search?q=JET.jl&amp;type=Repositories\">JET.jl</a> (v0.5.14) managed to catch this error: <a href=\"https://github.com/IHPSystems/NonBlockingChannels.jl/blob/master/src/leakingchannel.jl#L43\">https://github.com/IHPSystems/NonBlockingChannels.jl/blob/master/src/leakingchannel.jl#L43</a> - and then subsequently failed.</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"o\">$</span><span class=\"w\"> </span><span class=\"n\">docker</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">rm</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"sb\">`pwd`</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">julia</span><span class=\"o\">:</span><span class=\"mf\">1.7</span><span class=\"w\"> </span><span class=\"n\">bash</span><span class=\"w\"></span>\n<span class=\"n\">Unable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">julia</span><span class=\"o\">:</span><span class=\"mf\">1.7</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">locally</span><span class=\"w\"></span>\n<span class=\"mf\">1.7</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pulling</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">julia</span><span class=\"w\"></span>\n<span class=\"mi\">1</span><span class=\"n\">fe172e4850f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pull</span><span class=\"w\"> </span><span class=\"n\">complete</span><span class=\"w\"></span>\n<span class=\"mi\">0</span><span class=\"n\">d0100a9853f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pull</span><span class=\"w\"> </span><span class=\"n\">complete</span><span class=\"w\"></span>\n<span class=\"n\">b0da1dd0a48f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pull</span><span class=\"w\"> </span><span class=\"n\">complete</span><span class=\"w\"></span>\n<span class=\"n\">Digest</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">sha256</span><span class=\"o\">:</span><span class=\"n\">f69c5ccac101532e873a1166dff43906d12a1790ef9c687f6a4964624d6b058d</span><span class=\"w\"></span>\n<span class=\"n\">Status</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Downloaded</span><span class=\"w\"> </span><span class=\"n\">newer</span><span class=\"w\"> </span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">julia</span><span class=\"o\">:</span><span class=\"mf\">1.7</span><span class=\"w\"></span>\n<span class=\"n\">root</span><span class=\"err\">@</span><span class=\"mi\">70</span><span class=\"n\">ecb8ce870b</span><span class=\"o\">:/</span><span class=\"c\"># cd /project/</span><span class=\"w\"></span>\n\n<span class=\"n\">root</span><span class=\"err\">@</span><span class=\"mi\">70</span><span class=\"n\">ecb8ce870b</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\"># julia --project</span><span class=\"w\"></span>\n<span class=\"w\">               </span><span class=\"n\">_</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">_</span><span class=\"w\">       </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"n\">_</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"n\">Documentation</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">docs</span><span class=\"o\">.</span><span class=\"n\">julialang</span><span class=\"o\">.</span><span class=\"n\">org</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\">   </span><span class=\"n\">_</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"w\">  </span><span class=\"n\">__</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"s\">\"?\"</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">help</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"]?\"</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">Pkg</span><span class=\"w\"> </span><span class=\"n\">help</span><span class=\"o\">.</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|/</span><span class=\"w\"> </span><span class=\"sa\">_</span><span class=\"sb\">` |  |</span>\n<span class=\"sb\">  | | |_| | | | (_| |  |  Version 1.7.2 (2022-02-06)</span>\n<span class=\"sb\"> _/ |\\__'_|_|_|\\__'_|  |  Official https://julialang.org/ release</span>\n<span class=\"sb\">|__/                   |</span>\n\n<span class=\"sb\">julia&gt; using Pkg</span>\n\n<span class=\"sb\">julia&gt; Pkg.project().name</span>\n<span class=\"sb\">\"NonBlockingChannels\"</span>\n\n<span class=\"sb\">julia&gt; using JET</span>\n<span class=\"sb\"> │ Package JET not found, but a package named JET is available from a registry.</span>\n<span class=\"sb\"> │ Install package?</span>\n<span class=\"sb\"> │   (NonBlockingChannels) pkg&gt; add JET</span>\n<span class=\"sb\"> └ (y/n) [y]: y</span>\n<span class=\"sb\">    Updating registry at `</span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">registries</span><span class=\"o\">/</span><span class=\"n\">General</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">   Resolving package versions...</span>\n<span class=\"sb\">   Installed CodeTracking ───── v1.0.9</span>\n<span class=\"sb\">   Installed MacroTools ─────── v0.5.9</span>\n<span class=\"sb\">   Installed JuliaInterpreter ─ v0.9.13</span>\n<span class=\"sb\">   Installed LoweredCodeUtils ─ v2.2.2</span>\n<span class=\"sb\">   Installed Requires ───────── v1.3.0</span>\n<span class=\"sb\">   Installed JET ────────────── v0.5.14</span>\n<span class=\"sb\">   Installed Revise ─────────── v3.3.3</span>\n<span class=\"sb\">┌ Warning: The active manifest file at `</span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">Manifest</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">` has an old format that is being maintained.</span>\n<span class=\"sb\">│ To update to the new format run `</span><span class=\"sa\">Pkg</span><span class=\"o\">.</span><span class=\"n\">upgrade_manifest</span><span class=\"p\">()</span><span class=\"sb\">` which will upgrade the format without re-resolving.</span>\n<span class=\"sb\">└ @ Pkg.Types /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.7/Pkg/src/manifest.jl:287</span>\n<span class=\"sb\">    Updating `</span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">Project</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  [c3a54625] + JET v0.5.14</span>\n<span class=\"sb\">    Updating `</span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">Manifest</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  [da1fd8a2] + CodeTracking v1.0.9</span>\n<span class=\"sb\">  [c3a54625] + JET v0.5.14</span>\n<span class=\"sb\">  [aa1ae85d] + JuliaInterpreter v0.9.13</span>\n<span class=\"sb\">  [6f1432cf] + LoweredCodeUtils v2.2.2</span>\n<span class=\"sb\">  [1914dd2f] + MacroTools v0.5.9</span>\n<span class=\"sb\">  [bac558e1] + OrderedCollections v1.4.1</span>\n<span class=\"sb\">  [ae029012] + Requires v1.3.0</span>\n<span class=\"sb\">  [295af30f] + Revise v3.3.3</span>\n<span class=\"sb\">  [0dad84c5] + ArgTools</span>\n<span class=\"sb\">  [56f22d72] + Artifacts</span>\n<span class=\"sb\">  [ade2ca70] + Dates</span>\n<span class=\"sb\">  [f43a241f] + Downloads</span>\n<span class=\"sb\">  [7b1f6079] + FileWatching</span>\n<span class=\"sb\">  [b27032c2] + LibCURL</span>\n<span class=\"sb\">  [76f85450] + LibGit2</span>\n<span class=\"sb\">  [37e2e46d] - LinearAlgebra</span>\n<span class=\"sb\">  [ca575930] + NetworkOptions</span>\n<span class=\"sb\">  [44cfe95a] + Pkg</span>\n<span class=\"sb\">  [de0858da] + Printf</span>\n<span class=\"sb\">  [3fa0cd96] + REPL</span>\n<span class=\"sb\">  [ea8e919c] + SHA</span>\n<span class=\"sb\">  [fa267f1f] + TOML</span>\n<span class=\"sb\">  [a4e569a6] + Tar</span>\n<span class=\"sb\">  [cf7118a7] + UUIDs</span>\n<span class=\"sb\">  [4ec0a83e] + Unicode</span>\n<span class=\"sb\">  [deac9b47] + LibCURL_jll</span>\n<span class=\"sb\">  [29816b5a] + LibSSH2_jll</span>\n<span class=\"sb\">  [c8ffd9c3] + MbedTLS_jll</span>\n<span class=\"sb\">  [14a3606d] + MozillaCACerts_jll</span>\n<span class=\"sb\">  [83775a58] + Zlib_jll</span>\n<span class=\"sb\">  [8e850ede] + nghttp2_jll</span>\n<span class=\"sb\">  [3f19e933] + p7zip_jll</span>\n<span class=\"sb\">┌ Warning: The active manifest file is an older format with no julia version entry. Dependencies may have been resolved with a different julia version.</span>\n<span class=\"sb\">└ @ /project/Manifest.toml:0</span>\n<span class=\"sb\">Precompiling project...</span>\n<span class=\"sb\">  8 dependencies successfully precompiled in 16 seconds (4 already precompiled)</span>\n\n<span class=\"sb\">julia&gt; pwd()</span>\n<span class=\"sb\">\"/project\"</span>\n\n<span class=\"sb\">julia&gt; report_package(Pkg.project().name; analyze_from_definitions = true)</span>\n<span class=\"sb\">[toplevel-info] virtualized the context of Main (took 0.03 sec)</span>\n<span class=\"sb\">[toplevel-info] entered into /project/src/NonBlockingChannels.jl</span>\n<span class=\"sb\">[toplevel-info] entered into /project/src/leakingchannel.jl</span>\n<span class=\"sb\">[toplevel-info]  exited from /project/src/leakingchannel.jl (took 0.331 sec)</span>\n<span class=\"sb\">[toplevel-info]  exited from /project/src/NonBlockingChannels.jl (took 3.498 sec)</span>\n<span class=\"sb\">[toplevel-info] analyzing from top-level definitions ... 14/14</span>\n<span class=\"sb\">═════ 1 possible error found ═════</span>\n<span class=\"sb\">┌ @ /project/src/leakingchannel.jl:44 result = NonBlockingChannels.popfirst(Base.getproperty(c, :channel))</span>\n<span class=\"sb\">│ variable NonBlockingChannels.popfirst is not defined: result = NonBlockingChannels.popfirst(Base.getproperty(c::NonBlockingChannels.LeakingChannel, :channel::Symbol)::AbstractChannel{Any})</span>\n<span class=\"sb\">└─────────────────────────────────────</span>\n\n\n<span class=\"sb\">julia&gt;</span>\n</code></pre></div>\n<p>I have not been able to catch it with <a href=\"https://github.com/search?q=JET.jl&amp;type=Repositories\">JET.jl</a> since:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"o\">$</span><span class=\"w\"> </span><span class=\"n\">docker</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">rm</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"sb\">`pwd`</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">julia</span><span class=\"o\">:</span><span class=\"mf\">1.7</span><span class=\"w\"> </span><span class=\"n\">bash</span><span class=\"w\"></span>\n<span class=\"n\">root</span><span class=\"err\">@</span><span class=\"mf\">6f54</span><span class=\"n\">b6630403</span><span class=\"o\">:/</span><span class=\"c\"># julia --eval 'using Pkg; Pkg.activate(); Pkg.add(\"JET\"); Pkg.activate(\".\"); using JET; @info \"Analyzing package $(Pkg.project().name)\"; report_package(Pkg.project().name)'</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">Activating</span><span class=\"w\"> </span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">Installing</span><span class=\"w\"> </span><span class=\"n\">known</span><span class=\"w\"> </span><span class=\"n\">registries</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Updating</span><span class=\"w\"> </span><span class=\"n\">registry</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/registries/General.toml`</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Resolving</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">versions</span><span class=\"o\">...</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">Requires</span><span class=\"w\"> </span><span class=\"n\">───────────</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.3.0</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">CodeTracking</span><span class=\"w\"> </span><span class=\"n\">───────</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.0.9</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">LoweredCodeUtils</span><span class=\"w\"> </span><span class=\"n\">───</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"mf\">.2.2</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">OrderedCollections</span><span class=\"w\"> </span><span class=\"n\">─</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.4.1</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">MacroTools</span><span class=\"w\"> </span><span class=\"n\">─────────</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.5.9</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">JuliaInterpreter</span><span class=\"w\"> </span><span class=\"n\">───</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.9.13</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">Revise</span><span class=\"w\"> </span><span class=\"n\">─────────────</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"mf\">.3.3</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Installed</span><span class=\"w\"> </span><span class=\"n\">JET</span><span class=\"w\"> </span><span class=\"n\">────────────────</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.5.14</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Updating</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7/Project.toml`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">c3a54625</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">JET</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.5.14</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Updating</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7/Manifest.toml`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">da1fd8a2</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">CodeTracking</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.0.9</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">c3a54625</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">JET</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.5.14</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">aa1ae85d</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">JuliaInterpreter</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.9.13</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">6f1432</span><span class=\"n\">cf</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">LoweredCodeUtils</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"mf\">.2.2</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">1914</span><span class=\"n\">dd2f</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MacroTools</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"mf\">.5.9</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">bac558e1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">OrderedCollections</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.4.1</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">ae029012</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Requires</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"mf\">.3.0</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">295</span><span class=\"n\">af30f</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Revise</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"mf\">.3.3</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"n\">dad84c5</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">ArgTools</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">56f22</span><span class=\"n\">d72</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Artifacts</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"n\">a0f44e3</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Base64</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">ade2ca70</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Dates</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">8</span><span class=\"n\">ba89e20</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Distributed</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">f43a241f</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Downloads</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"n\">b1f6079</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">FileWatching</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">b77e0a4c</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">InteractiveUtils</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">b27032c2</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">LibCURL</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">76f85450</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">LibGit2</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">8f399</span><span class=\"n\">da3</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Libdl</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">56</span><span class=\"n\">ddb016</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Logging</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">d6f4376e</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Markdown</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">ca575930</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">NetworkOptions</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">44</span><span class=\"n\">cfe95a</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Pkg</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">de0858da</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Printf</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"n\">fa0cd96</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">REPL</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"n\">a3f8284</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Random</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">ea8e919c</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">SHA</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">9e88</span><span class=\"n\">b42a</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Serialization</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">6462</span><span class=\"n\">fe0b</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Sockets</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">fa267f1f</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">TOML</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">a4e569a6</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Tar</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">8</span><span class=\"n\">dfed614</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Test</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">cf7118a7</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">UUIDs</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"n\">ec0a83e</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Unicode</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">deac9b47</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">LibCURL_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">29816</span><span class=\"n\">b5a</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">LibSSH2_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"n\">c8ffd9c3</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MbedTLS_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">14</span><span class=\"n\">a3606d</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MozillaCACerts_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">83775</span><span class=\"n\">a58</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Zlib_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">8e850</span><span class=\"n\">ede</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">nghttp2_jll</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mf\">3f19</span><span class=\"n\">e933</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">p7zip_jll</span><span class=\"w\"></span>\n\n<span class=\"o\">...</span><span class=\"w\"></span>\n\n<span class=\"n\">root</span><span class=\"err\">@</span><span class=\"mf\">6f54</span><span class=\"n\">b6630403</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\"># julia --project --eval 'using Pkg; Pkg.activate(); Pkg.add(\"JET\"); Pkg.activate(\".\"); using JET; @info \"Analyzing package $(Pkg.project().name)\"; report_package(Pkg.project().name)'</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">Activating</span><span class=\"w\"> </span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Updating</span><span class=\"w\"> </span><span class=\"n\">registry</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/registries/General.toml`</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">Resolving</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">versions</span><span class=\"o\">...</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">No</span><span class=\"w\"> </span><span class=\"n\">Changes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7/Project.toml`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">No</span><span class=\"w\"> </span><span class=\"n\">Changes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"sb\">`~/.julia/environments/v1.7/Manifest.toml`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">Activating</span><span class=\"w\"> </span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"sb\">`/project`</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"w\"> </span><span class=\"n\">Info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Analyzing</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">NonBlockingChannels</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">virtualized</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">context</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">Main</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.028</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.292</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">3.453</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">analyzing</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"o\">-</span><span class=\"n\">level</span><span class=\"w\"> </span><span class=\"n\">definitions</span><span class=\"w\"> </span><span class=\"o\">...</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">/</span><span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"n\">root</span><span class=\"err\">@</span><span class=\"mf\">6f54</span><span class=\"n\">b6630403</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\">#</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 281288859,
        "sender_full_name": "Jesper Stemann Andersen",
        "timestamp": 1651752425
    },
    {
        "content": "<p>I managed to isolate the problem: <a href=\"https://github.com/search?q=JET.jl&amp;type=Repositories\">JET.jl</a> finds the bug when run from the REPL with <code>julia --project</code>, but not when run from the command line with <code>julia --project --eval</code>:</p>\n<p>Running in clone of <a href=\"https://github.com/IHPSystems/NonBlockingChannels.jl\">https://github.com/IHPSystems/NonBlockingChannels.jl</a> :</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">jsa</span><span class=\"o\">-</span><span class=\"n\">mac</span><span class=\"o\">:</span><span class=\"n\">NonBlockingChannels</span><span class=\"w\"> </span><span class=\"n\">jsa</span><span class=\"o\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"w\"></span>\n<span class=\"n\">On</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">master</span><span class=\"w\"></span>\n<span class=\"n\">Your</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">date</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">origin</span><span class=\"o\">/</span><span class=\"n\">master</span><span class=\"o\">'.</span><span class=\"w\"></span>\n\n<span class=\"nb\">nothing</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">working</span><span class=\"w\"> </span><span class=\"n\">tree</span><span class=\"w\"> </span><span class=\"n\">clean</span><span class=\"w\"></span>\n<span class=\"n\">jsa</span><span class=\"o\">-</span><span class=\"n\">mac</span><span class=\"o\">:</span><span class=\"n\">NonBlockingChannels</span><span class=\"w\"> </span><span class=\"n\">jsa</span><span class=\"o\">$</span><span class=\"w\"> </span><span class=\"n\">docker</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">rm</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"sb\">`pwd`</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">workdir</span><span class=\"o\">=/</span><span class=\"n\">project</span><span class=\"w\"> </span><span class=\"n\">julia</span><span class=\"o\">:</span><span class=\"mf\">1.7</span><span class=\"w\"> </span><span class=\"n\">bash</span><span class=\"w\"></span>\n<span class=\"n\">root</span><span class=\"nd\">@b0a5da3e7b70</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\"># julia --project</span><span class=\"w\"></span>\n<span class=\"w\">               </span><span class=\"n\">_</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">_</span><span class=\"w\">       </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"n\">_</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"n\">Documentation</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">docs</span><span class=\"o\">.</span><span class=\"n\">julialang</span><span class=\"o\">.</span><span class=\"n\">org</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\">   </span><span class=\"n\">_</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"w\">  </span><span class=\"n\">__</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"s\">\"?\"</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">help</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"]?\"</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">Pkg</span><span class=\"w\"> </span><span class=\"n\">help</span><span class=\"o\">.</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|/</span><span class=\"w\"> </span><span class=\"sa\">_</span><span class=\"sb\">` |  |</span>\n<span class=\"sb\">  | | |_| | | | (_| |  |  Version 1.7.2 (2022-02-06)</span>\n<span class=\"sb\"> _/ |\\__'_|_|_|\\__'_|  |  Official https://julialang.org/ release</span>\n<span class=\"sb\">|__/                   |</span>\n\n<span class=\"sb\">julia&gt; versioninfo()</span>\n<span class=\"sb\">Julia Version 1.7.2</span>\n<span class=\"sb\">Commit bf53498635 (2022-02-06 15:21 UTC)</span>\n<span class=\"sb\">Platform Info:</span>\n<span class=\"sb\">  OS: Linux (x86_64-pc-linux-gnu)</span>\n<span class=\"sb\">  CPU: Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz</span>\n<span class=\"sb\">  WORD_SIZE: 64</span>\n<span class=\"sb\">  LIBM: libopenlibm</span>\n<span class=\"sb\">  LLVM: libLLVM-12.0.1 (ORCJIT, skylake)</span>\n<span class=\"sb\">Environment:</span>\n<span class=\"sb\">  JULIA_GPG = 3673DF529D9049477F76B37566E3C7DC03D6E495</span>\n<span class=\"sb\">  JULIA_VERSION = 1.7.2</span>\n<span class=\"sb\">  JULIA_PATH = /usr/local/julia</span>\n\n<span class=\"sb\">julia&gt; using Pkg</span>\n\n<span class=\"sb\">julia&gt; Pkg.activate()</span>\n<span class=\"sb\">  Activating project at `</span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">environments</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.7</span><span class=\"sb\">`</span>\n\n<span class=\"sb\">julia&gt; Pkg.add(\"JET\")</span>\n<span class=\"sb\">  Installing known registries into `</span><span class=\"o\">~/.</span><span class=\"sa\">julia</span><span class=\"sb\">`</span>\n<span class=\"sb\">    Updating registry at `</span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">registries</span><span class=\"o\">/</span><span class=\"n\">General</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">   Resolving package versions...</span>\n<span class=\"sb\">   Installed Requires ─────────── v1.3.0</span>\n<span class=\"sb\">   Installed CodeTracking ─────── v1.0.9</span>\n<span class=\"sb\">   Installed MacroTools ───────── v0.5.9</span>\n<span class=\"sb\">   Installed LoweredCodeUtils ─── v2.2.2</span>\n<span class=\"sb\">   Installed OrderedCollections ─ v1.4.1</span>\n<span class=\"sb\">   Installed JuliaInterpreter ─── v0.9.13</span>\n<span class=\"sb\">   Installed JET ──────────────── v0.5.14</span>\n<span class=\"sb\">   Installed Revise ───────────── v3.3.3</span>\n<span class=\"sb\">    Updating `</span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">environments</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.7</span><span class=\"o\">/</span><span class=\"n\">Project</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  [c3a54625] + JET v0.5.14</span>\n<span class=\"sb\">    Updating `</span><span class=\"o\">~/.</span><span class=\"n\">julia</span><span class=\"o\">/</span><span class=\"n\">environments</span><span class=\"o\">/</span><span class=\"n\">v1</span><span class=\"mf\">.7</span><span class=\"o\">/</span><span class=\"n\">Manifest</span><span class=\"o\">.</span><span class=\"sa\">toml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  [da1fd8a2] + CodeTracking v1.0.9</span>\n<span class=\"sb\">  [c3a54625] + JET v0.5.14</span>\n<span class=\"sb\">  [aa1ae85d] + JuliaInterpreter v0.9.13</span>\n<span class=\"sb\">  [6f1432cf] + LoweredCodeUtils v2.2.2</span>\n<span class=\"sb\">  [1914dd2f] + MacroTools v0.5.9</span>\n<span class=\"sb\">  [bac558e1] + OrderedCollections v1.4.1</span>\n<span class=\"sb\">  [ae029012] + Requires v1.3.0</span>\n<span class=\"sb\">  [295af30f] + Revise v3.3.3</span>\n<span class=\"sb\">  [0dad84c5] + ArgTools</span>\n<span class=\"sb\">  [56f22d72] + Artifacts</span>\n<span class=\"sb\">  [2a0f44e3] + Base64</span>\n<span class=\"sb\">  [ade2ca70] + Dates</span>\n<span class=\"sb\">  [8ba89e20] + Distributed</span>\n<span class=\"sb\">  [f43a241f] + Downloads</span>\n<span class=\"sb\">  [7b1f6079] + FileWatching</span>\n<span class=\"sb\">  [b77e0a4c] + InteractiveUtils</span>\n<span class=\"sb\">  [b27032c2] + LibCURL</span>\n<span class=\"sb\">  [76f85450] + LibGit2</span>\n<span class=\"sb\">  [8f399da3] + Libdl</span>\n<span class=\"sb\">  [56ddb016] + Logging</span>\n<span class=\"sb\">  [d6f4376e] + Markdown</span>\n<span class=\"sb\">  [ca575930] + NetworkOptions</span>\n<span class=\"sb\">  [44cfe95a] + Pkg</span>\n<span class=\"sb\">  [de0858da] + Printf</span>\n<span class=\"sb\">  [3fa0cd96] + REPL</span>\n<span class=\"sb\">  [9a3f8284] + Random</span>\n<span class=\"sb\">  [ea8e919c] + SHA</span>\n<span class=\"sb\">  [9e88b42a] + Serialization</span>\n<span class=\"sb\">  [6462fe0b] + Sockets</span>\n<span class=\"sb\">  [fa267f1f] + TOML</span>\n<span class=\"sb\">  [a4e569a6] + Tar</span>\n<span class=\"sb\">  [8dfed614] + Test</span>\n<span class=\"sb\">  [cf7118a7] + UUIDs</span>\n<span class=\"sb\">  [4ec0a83e] + Unicode</span>\n<span class=\"sb\">  [deac9b47] + LibCURL_jll</span>\n<span class=\"sb\">  [29816b5a] + LibSSH2_jll</span>\n<span class=\"sb\">  [c8ffd9c3] + MbedTLS_jll</span>\n<span class=\"sb\">  [14a3606d] + MozillaCACerts_jll</span>\n<span class=\"sb\">  [83775a58] + Zlib_jll</span>\n<span class=\"sb\">  [8e850ede] + nghttp2_jll</span>\n<span class=\"sb\">  [3f19e933] + p7zip_jll</span>\n<span class=\"sb\">Precompiling project...</span>\n<span class=\"sb\">  11 dependencies successfully precompiled in 15 seconds</span>\n\n<span class=\"sb\">julia&gt; Pkg.activate(\".\")</span>\n<span class=\"sb\">  Activating project at `</span><span class=\"o\">/</span><span class=\"sa\">project</span><span class=\"sb\">`</span>\n\n<span class=\"sb\">julia&gt; using JET</span>\n\n<span class=\"sb\">julia&gt; report_package(Pkg.project().name)</span>\n<span class=\"sb\">[toplevel-info] virtualized the context of Main (took 0.026 sec)</span>\n<span class=\"sb\">[toplevel-info] entered into /project/src/NonBlockingChannels.jl</span>\n<span class=\"sb\">[toplevel-info] entered into /project/src/leakingchannel.jl</span>\n<span class=\"sb\">[toplevel-info]  exited from /project/src/leakingchannel.jl (took 0.283 sec)</span>\n<span class=\"sb\">[toplevel-info]  exited from /project/src/NonBlockingChannels.jl (took 3.317 sec)</span>\n<span class=\"sb\">[toplevel-info] analyzing from top-level definitions ... 14/14</span>\n<span class=\"sb\">═════ 1 possible error found ═════</span>\n<span class=\"sb\">┌ @ /project/src/leakingchannel.jl:43 result = NonBlockingChannels.popfirst(Base.getproperty(c, :channel))</span>\n<span class=\"sb\">│ variable NonBlockingChannels.popfirst is not defined: result = NonBlockingChannels.popfirst(Base.getproperty(c::NonBlockingChannels.LeakingChannel, :channel::Symbol)::AbstractChannel{Any})</span>\n<span class=\"sb\">└─────────────────────────────────────</span>\n\n\n<span class=\"sb\">julia&gt;</span>\n</code></pre></div>\n<p>So all is good from the REPL - <a href=\"https://github.com/search?q=JET.jl&amp;type=Repositories\">JET.jl</a> finds the bug.</p>\n<p>But fails when run with <code>--eval</code></p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">root</span><span class=\"nd\">@b0a5da3e7b70</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\"># julia --project --eval 'using Pkg; using JET; report_package(Pkg.project().name)'</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">virtualized</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">context</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">Main</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.031</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.286</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">3.257</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">analyzing</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"o\">-</span><span class=\"n\">level</span><span class=\"w\"> </span><span class=\"n\">definitions</span><span class=\"w\"> </span><span class=\"o\">...</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">/</span><span class=\"mi\">14</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Trying again from the REPL:</p>\n<div class=\"codehilite\" data-code-language=\"root\"><pre><span></span><code>               _\n   _       _ _(_)_     |  Documentation: https://docs.julialang.org\n  (_)     | (_) (_)    |\n   _ _   _| |_  __ _   |  Type \"?\" for help, \"]?\" for Pkg help.\n  | | | | | | |/ _` |  |\n  | | |_| | | | (_| |  |  Version 1.7.2 (2022-02-06)\n _/ |\\__'_|_|_|\\__'_|  |  Official https://julialang.org/ release\n|__/                   |\n\njulia&gt; using Pkg; using JET; report_package(Pkg.project().name)\n[toplevel-info] virtualized the context of Main (took 0.025 sec)\n[toplevel-info] entered into /project/src/NonBlockingChannels.jl\n[toplevel-info] entered into /project/src/leakingchannel.jl\n[toplevel-info]  exited from /project/src/leakingchannel.jl (took 0.291 sec)\n[toplevel-info]  exited from /project/src/NonBlockingChannels.jl (took 3.216 sec)\n[toplevel-info] analyzing from top-level definitions ... 14/14\n═════ 1 possible error found ═════\n┌ @ /project/src/leakingchannel.jl:43 result = NonBlockingChannels.popfirst(Base.getproperty(c, :channel))\n│ variable NonBlockingChannels.popfirst is not defined: result = NonBlockingChannels.popfirst(Base.getproperty(c::NonBlockingChannels.LeakingChannel, :channel::Symbol)::AbstractChannel{Any})\n└─────────────────────────────────────\n\n\njulia&gt;\n</code></pre></div>",
        "id": 281402156,
        "sender_full_name": "Jesper Stemann Andersen",
        "timestamp": 1651821393
    },
    {
        "content": "<p>Argh! Problem solved - sort of - it's just the output being silenced somehow:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">root</span><span class=\"nd\">@b0a5da3e7b70</span><span class=\"o\">:/</span><span class=\"n\">project</span><span class=\"c\"># julia --project --eval 'using Pkg; using JET; @show report_package(Pkg.project().name)'</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">virtualized</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">context</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">Main</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.031</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">entered</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">0.291</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mf\">3.259</span><span class=\"w\"> </span><span class=\"n\">sec</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">toplevel</span><span class=\"o\">-</span><span class=\"n\">info</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">analyzing</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"o\">-</span><span class=\"n\">level</span><span class=\"w\"> </span><span class=\"n\">definitions</span><span class=\"w\"> </span><span class=\"o\">...</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">/</span><span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"n\">report_package</span><span class=\"p\">((</span><span class=\"n\">Pkg</span><span class=\"o\">.</span><span class=\"n\">project</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">═════</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">possible</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"n\">═════</span><span class=\"w\"></span>\n<span class=\"n\">┌</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">project</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">leakingchannel</span><span class=\"o\">.</span><span class=\"n\">jl</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"w\"> </span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">popfirst</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"o\">.</span><span class=\"n\">getproperty</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">:channel</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"n\">│</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">popfirst</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">defined</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">popfirst</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"o\">.</span><span class=\"n\">getproperty</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"o\">::</span><span class=\"kt\">NonBlockingChannels</span><span class=\"o\">.</span><span class=\"n\">LeakingChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">:channel</span><span class=\"o\">::</span><span class=\"kt\">Symbol</span><span class=\"p\">)</span><span class=\"o\">::</span><span class=\"kt\">AbstractChannel</span><span class=\"p\">{</span><span class=\"kt\">Any</span><span class=\"p\">})</span><span class=\"w\"></span>\n<span class=\"n\">└─────────────────────────────────────</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 281402860,
        "sender_full_name": "Jesper Stemann Andersen",
        "timestamp": 1651821866
    },
    {
        "content": "<p>You should make an issue</p>",
        "id": 281645288,
        "sender_full_name": "Jakob Nybo Nissen",
        "timestamp": 1652079009
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"272650\">Jakob Nybo Nissen</span> <a href=\"#narrow/stream/274208-helpdesk-.28published.29/topic/JET.20fails.20to.20catch.20error.20-.20intermittently/near/281645288\">said</a>:</p>\n<blockquote>\n<p>You should make an issue</p>\n</blockquote>\n<p>I were about too, but as I found out it was merely output not being displayed (when not running in the REPL, of course) there was no need.</p>\n<p>The outcome of my struggles is now available: <a href=\"https://gitlab.com/IHPSystems/julia/julia-gitlab-ci-templates/-/blob/v1.3.1/templates.gitlab-ci.yaml#L103\">https://gitlab.com/IHPSystems/julia/julia-gitlab-ci-templates/-/blob/v1.3.1/templates.gitlab-ci.yaml#L103</a></p>",
        "id": 281928545,
        "sender_full_name": "Jesper Stemann Andersen",
        "timestamp": 1652254714
    }
]