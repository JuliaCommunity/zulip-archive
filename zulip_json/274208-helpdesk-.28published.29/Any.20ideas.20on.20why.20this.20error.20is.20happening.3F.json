[
    {
        "content": "<p>Hello, everyone. I'm facing a strange problem, and I'm having some trouble figuring out why it's happening.<br>\nI have a script that donwloads a pdf from an S3 bucket, extracts the text from the pdf and writes the document to a MongoDB, using <a href=\"https://github.com/search?q=Mongoc.jl&amp;type=Repositories\">Mongoc.jl</a>.<br>\nI've parallelized the script using <code>Threads.@threads</code>. I've also placed a <code>try-catch</code> around the function that extracts and writes the text to mongo:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"k\">function</span><span class=\"w\"> </span><span class=\"n\">extractandwrite</span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">client</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Mongoc</span><span class=\"o\">.</span><span class=\"n\">Client</span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">database</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s\">\"resolvvi\"</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">collection</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">database</span><span class=\"p\">[</span><span class=\"s\">\"autos\"</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">autos</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">obterdataframeautos</span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Progress</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"p\">(</span><span class=\"n\">autos</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">])</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Threads</span><span class=\"o\">.</span><span class=\"nd\">@threads</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"n\">size</span><span class=\"p\">(</span><span class=\"n\">autos</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"k\">try</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nd\">@suppress</span><span class=\"w\"> </span><span class=\"n\">extrairauto</span><span class=\"p\">(</span><span class=\"n\">autos</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"p\">],</span><span class=\"w\"> </span><span class=\"n\">collection</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"k\">catch</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"k\">continue</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"k\">end</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"n\">next!</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">end</span><span class=\"w\"></span>\n<span class=\"k\">end</span><span class=\"w\"></span>\n</code></pre></div>\n<p>The thing is, when I leave this  running, I get (at random) an error saying <strong>17244 iot instruction (core dumped)</strong>. This makes the repl die, hence, the error seems to go beyond the actual Julia code... Any idea what is this error?</p>",
        "id": 283063483,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1653050704
    }
]