[
    {
        "content": "<p>I gave a short-course this last weekend and the participants reported a pop-up window asking for admin permission while installing <a href=\"https://juliaregistries.github.io/General/packages/redirect_to_repo/GeoStats\">GeoStats.jl</a> on Windows machines from a lab. How can I identify the indirect dependency of the project that is causing this annoying installation issue?</p>",
        "id": 535497908,
        "sender_full_name": "Júlio Hoffimann",
        "timestamp": 1755780626
    },
    {
        "content": "<p>Presumably this would come from a build script. I would try installing GeoStats in a fresh depot (point <code>JULIA_DEPOT_PATH</code> to an empty directory) and then check which installed packages have a <code>deps/build.jl</code> file. Then either scan those for suspicious activity or try installing them one by one to see which trigger the problem.</p>",
        "id": 535499487,
        "sender_full_name": "Gunnar Farnebäck",
        "timestamp": 1755781175
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"273176\">@Gunnar Farnebäck</span> would it suffice to create a temp environment with <code>] activate --temp</code>, install <a href=\"https://juliaregistries.github.io/General/packages/redirect_to_repo/GeoStats\">GeoStats.jl</a> and check the output of <code>] st -m</code>? It should list all indirect deps, right? I could then write a script to find all the packages that have a <code>deps/build.jl</code></p>",
        "id": 535525426,
        "sender_full_name": "Júlio Hoffimann",
        "timestamp": 1755788945
    },
    {
        "content": "<p>Here is the full list of packages installed in the fresh env:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">ADTypes</span>\n<span class=\"n\">AbstractFFTs</span>\n<span class=\"n\">AbstractTrees</span>\n<span class=\"n\">Accessors</span>\n<span class=\"n\">Adapt</span>\n<span class=\"n\">AdaptivePredicates</span>\n<span class=\"n\">AliasTables</span>\n<span class=\"n\">ArnoldiMethod</span>\n<span class=\"n\">ArrayInterface</span>\n<span class=\"n\">AxisAlgorithms</span>\n<span class=\"n\">AxisArrays</span>\n<span class=\"n\">BangBang</span>\n<span class=\"n\">Bessels</span>\n<span class=\"n\">BitFlags</span>\n<span class=\"n\">CRlibm</span>\n<span class=\"n\">CategoricalArrays</span>\n<span class=\"n\">Chain</span>\n<span class=\"n\">ChainRules</span>\n<span class=\"n\">ChainRulesCore</span>\n<span class=\"n\">ChunkSplitters</span>\n<span class=\"n\">CircularArrays</span>\n<span class=\"n\">Clustering</span>\n<span class=\"n\">CoDa</span>\n<span class=\"n\">CodecZlib</span>\n<span class=\"n\">ColorSchemes</span>\n<span class=\"n\">ColorTypes</span>\n<span class=\"n\">ColorVectorSpace</span>\n<span class=\"n\">Colorfy</span>\n<span class=\"n\">Colors</span>\n<span class=\"n\">ColumnSelectors</span>\n<span class=\"n\">Combinatorics</span>\n<span class=\"n\">CommonSubexpressions</span>\n<span class=\"n\">CommonWorldInvalidations</span>\n<span class=\"n\">Compat</span>\n<span class=\"n\">CompositionsBase</span>\n<span class=\"n\">ConcurrentUtilities</span>\n<span class=\"n\">ConstructionBase</span>\n<span class=\"n\">CoordGridTransforms</span>\n<span class=\"n\">CoordRefSystems</span>\n<span class=\"n\">CpuId</span>\n<span class=\"n\">Crayons</span>\n<span class=\"n\">DataAPI</span>\n<span class=\"n\">DataDeps</span>\n<span class=\"n\">DataScienceTraits</span>\n<span class=\"n\">DataStructures</span>\n<span class=\"n\">DataValueInterfaces</span>\n<span class=\"n\">DecisionTree</span>\n<span class=\"n\">DelaunayTriangulation</span>\n<span class=\"n\">DelimitedFiles</span>\n<span class=\"n\">DensityRatioEstimation</span>\n<span class=\"n\">Dictionaries</span>\n<span class=\"n\">DiffResults</span>\n<span class=\"n\">DiffRules</span>\n<span class=\"n\">DifferentiationInterface</span>\n<span class=\"n\">Distances</span>\n<span class=\"n\">Distributions</span>\n<span class=\"n\">DocStringExtensions</span>\n<span class=\"n\">EnumX</span>\n<span class=\"n\">ExactPredicates</span>\n<span class=\"n\">ExceptionUnwrapping</span>\n<span class=\"n\">FFTW</span>\n<span class=\"n\">FileIO</span>\n<span class=\"n\">FillArrays</span>\n<span class=\"n\">FiniteDiff</span>\n<span class=\"n\">FixedPointNumbers</span>\n<span class=\"n\">ForwardDiff</span>\n<span class=\"n\">GLM</span>\n<span class=\"n\">GPUArraysCore</span>\n<span class=\"n\">GeoStats</span>\n<span class=\"n\">GeoStatsBase</span>\n<span class=\"n\">GeoStatsFunctions</span>\n<span class=\"n\">GeoStatsModels</span>\n<span class=\"n\">GeoStatsProcesses</span>\n<span class=\"n\">GeoStatsTransforms</span>\n<span class=\"n\">GeoStatsValidation</span>\n<span class=\"n\">GeoTIFF</span>\n<span class=\"n\">GeoTables</span>\n<span class=\"n\">HTTP</span>\n<span class=\"n\">HashArrayMappedTries</span>\n<span class=\"n\">HypergeometricFunctions</span>\n<span class=\"n\">IRTools</span>\n<span class=\"n\">IfElse</span>\n<span class=\"n\">Indexing</span>\n<span class=\"n\">IndirectArrays</span>\n<span class=\"n\">Inflate</span>\n<span class=\"n\">InitialValues</span>\n<span class=\"n\">Interpolations</span>\n<span class=\"n\">IntervalArithmetic</span>\n<span class=\"n\">IntervalSets</span>\n<span class=\"n\">InverseFunctions</span>\n<span class=\"n\">IrrationalConstants</span>\n<span class=\"n\">IterTools</span>\n<span class=\"n\">IteratorInterfaceExtensions</span>\n<span class=\"n\">JLLWrappers</span>\n<span class=\"n\">JSON</span>\n<span class=\"n\">LaTeXStrings</span>\n<span class=\"n\">LineSearches</span>\n<span class=\"n\">LogExpFunctions</span>\n<span class=\"n\">LoggingExtras</span>\n<span class=\"n\">LossFunctions</span>\n<span class=\"n\">MacroTools</span>\n<span class=\"n\">MappedArrays</span>\n<span class=\"n\">MbedTLS</span>\n<span class=\"n\">Meshes</span>\n<span class=\"n\">Missings</span>\n<span class=\"n\">NLSolversBase</span>\n<span class=\"n\">NaNMath</span>\n<span class=\"n\">NearestNeighbors</span>\n<span class=\"n\">NelderMead</span>\n<span class=\"n\">OffsetArrays</span>\n<span class=\"n\">OhMyThreads</span>\n<span class=\"n\">OpenSSL</span>\n<span class=\"n\">Optim</span>\n<span class=\"n\">OrderedCollections</span>\n<span class=\"n\">PDMats</span>\n<span class=\"n\">Parameters</span>\n<span class=\"n\">Parsers</span>\n<span class=\"n\">PkgVersion</span>\n<span class=\"n\">PositiveFactorizations</span>\n<span class=\"n\">PrecompileTools</span>\n<span class=\"n\">Preferences</span>\n<span class=\"n\">PrettyTables</span>\n<span class=\"n\">ProgressMeter</span>\n<span class=\"n\">PtrArrays</span>\n<span class=\"n\">QuadGK</span>\n<span class=\"n\">Quaternions</span>\n<span class=\"n\">RangeArrays</span>\n<span class=\"n\">Ratios</span>\n<span class=\"n\">RealDot</span>\n<span class=\"n\">Reexport</span>\n<span class=\"n\">Requires</span>\n<span class=\"n\">Rmath</span>\n<span class=\"n\">Rotations</span>\n<span class=\"n\">RoundingEmulator</span>\n<span class=\"n\">SIMD</span>\n<span class=\"n\">ScikitLearnBase</span>\n<span class=\"n\">ScopedValues</span>\n<span class=\"n\">Scratch</span>\n<span class=\"n\">Setfield</span>\n<span class=\"n\">ShiftedArrays</span>\n<span class=\"n\">SimpleBufferStream</span>\n<span class=\"n\">SortingAlgorithms</span>\n<span class=\"n\">SparseInverseSubset</span>\n<span class=\"n\">SpecialFunctions</span>\n<span class=\"n\">SpectralIndices</span>\n<span class=\"n\">SplitApplyCombine</span>\n<span class=\"n\">StableTasks</span>\n<span class=\"n\">Static</span>\n<span class=\"n\">StaticArrayInterface</span>\n<span class=\"n\">StaticArrays</span>\n<span class=\"n\">StaticArraysCore</span>\n<span class=\"n\">Statistics</span>\n<span class=\"n\">StatsAPI</span>\n<span class=\"n\">StatsBase</span>\n<span class=\"n\">StatsFuns</span>\n<span class=\"n\">StatsLearnModels</span>\n<span class=\"n\">StatsModels</span>\n<span class=\"n\">StringManipulation</span>\n<span class=\"n\">StructArrays</span>\n<span class=\"n\">TableDistances</span>\n<span class=\"n\">TableTraits</span>\n<span class=\"n\">TableTransforms</span>\n<span class=\"n\">Tables</span>\n<span class=\"n\">TaskLocalValues</span>\n<span class=\"n\">TensorCore</span>\n<span class=\"n\">TiffImages</span>\n<span class=\"n\">TiledIteration</span>\n<span class=\"n\">TranscodingStreams</span>\n<span class=\"n\">TransformsBase</span>\n<span class=\"n\">TypedTables</span>\n<span class=\"n\">URIs</span>\n<span class=\"n\">UnPack</span>\n<span class=\"n\">Unitful</span>\n<span class=\"n\">WoodburyMatrices</span>\n<span class=\"n\">Zygote</span>\n<span class=\"n\">ZygoteRules</span>\n<span class=\"n\">CRlibm_jll</span>\n<span class=\"n\">FFTW_jll</span>\n<span class=\"n\">IntelOpenMP_jll</span>\n<span class=\"n\">MKL_jll</span>\n<span class=\"n\">OpenBLASConsistentFPCSR_jll</span>\n<span class=\"n\">OpenSSL_jll</span>\n<span class=\"n\">OpenSpecFun_jll</span>\n<span class=\"n\">Rmath_jll</span>\n<span class=\"n\">oneTBB_jll</span>\n<span class=\"n\">ArgTools</span>\n<span class=\"n\">Artifacts</span>\n<span class=\"n\">Base64</span>\n<span class=\"n\">Dates</span>\n<span class=\"n\">Distributed</span>\n<span class=\"n\">Downloads</span>\n<span class=\"n\">FileWatching</span>\n<span class=\"n\">Future</span>\n<span class=\"n\">InteractiveUtils</span>\n<span class=\"n\">LazyArtifacts</span>\n<span class=\"n\">LibCURL</span>\n<span class=\"n\">LibGit2</span>\n<span class=\"n\">Libdl</span>\n<span class=\"n\">LinearAlgebra</span>\n<span class=\"n\">Logging</span>\n<span class=\"n\">Markdown</span>\n<span class=\"n\">Mmap</span>\n<span class=\"n\">NetworkOptions</span>\n<span class=\"n\">Pkg</span>\n<span class=\"n\">Printf</span>\n<span class=\"n\">REPL</span>\n<span class=\"n\">Random</span>\n<span class=\"n\">SHA</span>\n<span class=\"n\">Serialization</span>\n<span class=\"n\">SharedArrays</span>\n<span class=\"n\">Sockets</span>\n<span class=\"n\">SparseArrays</span>\n<span class=\"n\">StyledStrings</span>\n<span class=\"n\">SuiteSparse</span>\n<span class=\"n\">TOML</span>\n<span class=\"n\">Tar</span>\n<span class=\"n\">Test</span>\n<span class=\"n\">UUIDs</span>\n<span class=\"n\">Unicode</span>\n<span class=\"n\">CompilerSupportLibraries_jll</span>\n<span class=\"n\">LibCURL_jll</span>\n<span class=\"n\">LibGit2_jll</span>\n<span class=\"n\">LibSSH2_jll</span>\n<span class=\"n\">MbedTLS_jll</span>\n<span class=\"n\">MozillaCACerts_jll</span>\n<span class=\"n\">OpenBLAS_jll</span>\n<span class=\"n\">OpenLibm_jll</span>\n<span class=\"n\">SuiteSparse_jll</span>\n<span class=\"n\">Zlib_jll</span>\n<span class=\"n\">libblastrampoline_jll</span>\n<span class=\"n\">nghttp2_jll</span>\n<span class=\"n\">p7zip_jll</span>\n</code></pre></div>",
        "id": 535528228,
        "sender_full_name": "Júlio Hoffimann",
        "timestamp": 1755789892
    },
    {
        "content": "<p>That sounds bizarre to me, doesn't all the Julia stuff go in some <code>.julia</code> user directory even on windows?  What could it be asking for admin for?</p>",
        "id": 535528632,
        "sender_full_name": "Expanding Man",
        "timestamp": 1755790023
    },
    {
        "content": "<p>I have no idea. I am trying the identify the root of the evil.</p>",
        "id": 535529383,
        "sender_full_name": "Júlio Hoffimann",
        "timestamp": 1755790252
    },
    {
        "content": "<p>Apparently the <code>deps/build.jl</code> files are not stored in <code>.julia/packages</code></p>",
        "id": 535534290,
        "sender_full_name": "Júlio Hoffimann",
        "timestamp": 1755791792
    },
    {
        "content": "<blockquote>\n<p>It should list all indirect deps, right?</p>\n</blockquote>\n<p>You can certainly do it that way, and use <code>pathof</code> to find which of the installed versions is used. Seems a lot more difficult to me but it's your choice.</p>",
        "id": 535572207,
        "sender_full_name": "Gunnar Farnebäck",
        "timestamp": 1755807265
    }
]