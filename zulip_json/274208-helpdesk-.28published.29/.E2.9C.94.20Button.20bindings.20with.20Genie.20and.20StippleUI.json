[
    {
        "content": "<p>Trying to make a simple dashboard app using Genie, but struggling with variable bindings on buttons (q-btn).</p>\n<p>Generally was following <a href=\"https://www.youtube.com/watch?v=Vu6q9tsegDA\">this</a> tutorial. I've maged to get sliders and other elements working via setting \"v-model\" attribute in template and corresponding variable in backend part.</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"Vu6q9tsegDA\" href=\"https://www.youtube.com/watch?v=Vu6q9tsegDA\"><img src=\"https://uploads.zulipusercontent.net/ee11969230a28879da86dd855522bf38bd2325a4/68747470733a2f2f692e7974696d672e636f6d2f76692f56753671397473656744412f64656661756c742e6a7067\"></a></div><p>HTML part</p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">q-slider</span> <span class=\"na\">v-model</span><span class=\"o\">=</span><span class=\"s\">\"start_index\"</span> <span class=\"na\">:min</span><span class=\"o\">=</span><span class=\"s\">\"1\"</span> <span class=\"na\">:max</span><span class=\"o\">=</span><span class=\"s\">\"50\"</span> <span class=\"na\">label</span><span class=\"o\">=</span><span class=\"s\">\"true\"</span><span class=\"p\">&gt;</span>slider text<span class=\"p\">&lt;/</span><span class=\"nt\">q-slider</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>{{output_var}}<span class=\"p\">&lt;/</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>\n</code></pre></div>\n<p>Julia part</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"nd\">@in</span><span class=\"w\"> </span><span class=\"n\">start_index</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"nd\">@out</span><span class=\"w\"> </span><span class=\"n\">output_var</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"some text\"</span>\n\n<span class=\"nd\">@onchange</span><span class=\"w\"> </span><span class=\"n\">start_index</span><span class=\"w\"> </span><span class=\"k\">begin</span>\n<span class=\"w\">  </span><span class=\"n\">output_var</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"some text with slider input </span><span class=\"si\">$start_index</span><span class=\"s\">\"</span>\n<span class=\"k\">end</span>\n</code></pre></div>\n<p>But buttons, as it seems, use another mechanism with <a href=\"https://genieframework.com/docs/stippleui/api/buttons.html\">emitting clicks</a>.<br>\nLooks like I should be doing something like <a href=\"https://youtu.be/dffZTCDpiRs?t=2584\">this</a> in template for buttons:</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"dffZTCDpiRs\" href=\"https://youtu.be/dffZTCDpiRs?t=2584\"><img src=\"https://uploads.zulipusercontent.net/2730f0ba0c4cc0736c19474daeeddbecfd451a07/68747470733a2f2f692e7974696d672e636f6d2f76692f6466665a544344706952732f64656661756c742e6a7067\"></a></div><div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">q-btn</span>\n              <span class=\"na\">label</span><span class=\"o\">=</span><span class=\"s\">\"button text\"</span>\n              <span class=\"err\">@</span><span class=\"na\">click</span><span class=\"o\">=</span><span class=\"s\">\"button_pressed=!button_pressed\"</span>\n              <span class=\"p\">/&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>{{button_press_text}}<span class=\"p\">&lt;/</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>\n</code></pre></div>\n<p>And in the code</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"nd\">@in</span><span class=\"w\"> </span><span class=\"n\">button_pressed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">false</span>\n<span class=\"nd\">@out</span><span class=\"w\"> </span><span class=\"n\">button_press_text</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"before pressing\"</span>\n\n<span class=\"nd\">@onchange</span><span class=\"w\"> </span><span class=\"n\">button_pressed</span><span class=\"w\"> </span><span class=\"k\">begin</span>\n<span class=\"w\">  </span><span class=\"c\"># processing code goes there</span>\n<span class=\"w\">  </span><span class=\"n\">button_press_text</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"button pressed\"</span>\n<span class=\"k\">end</span>\n</code></pre></div>\n<p>But it gives me nothing, button does not respond at all.</p>\n<p>Nearly all the tutorials are made in a reactive way, so there are almost no buttons.<br>\nAnd the ones with buttons are either deprecated, or have button code <a href=\"https://github.com/GenieFramework/ScoringEngineApp/blob/master/views/scoreboard.jl.html\">commented out</a> for some reason.</p>\n<p>I've also tried <code>@click=\"button_pressed=true\"</code>(just writing the value for the var, not inverting it), but still had no luck</p>\n<p>What am I missing? How to make the button work? Maybe I am missing some other attributes or some binding magic?<br>\nWhere can I look for a doc or a working example?</p>\n<p>Running Julia 1.9.3 and Genie 1.20</p>",
        "id": 390610655,
        "sender_full_name": "Ivan Selin",
        "timestamp": 1694559611
    },
    {
        "content": "<p>Turns out I had to do it through <code>v-on:click=\"button_pressed=!button_pressed\"</code> in HTML<br>\nTaken from <a href=\"https://github.com/GenieFramework/StippleUI.jl\">Stipple GitHub</a><br>\nIf only docs said anything about itâ€¦</p>\n<p>Question resolved</p>",
        "id": 390797927,
        "sender_full_name": "Ivan Selin",
        "timestamp": 1694637076
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599222\">Ivan Selin</span> has marked this topic as resolved.</p>",
        "id": 390797966,
        "sender_full_name": "Notification Bot",
        "timestamp": 1694637085
    }
]