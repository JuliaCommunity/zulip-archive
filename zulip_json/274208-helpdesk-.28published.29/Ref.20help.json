[
    {
        "content": "<p>Hi. I would like to do the following:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">];</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"p\">];</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"></span>\n<span class=\"mi\">6</span><span class=\"o\">-</span><span class=\"n\">element</span><span class=\"w\"> </span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Int64</span><span class=\"p\">}</span><span class=\"o\">:</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"></span>\n</code></pre></div>\n<p>However the last evaluation yields <code>[1,2,3,4,5,6]</code>. <br>\nHow can I use shallow reference for <code>a</code>  ?</p>\n<p>Also</p>\n<ul>\n<li>Is the usage of <code>Ref</code> and <code>Ptr</code> considered good practice ?</li>\n<li>I have some okey-ish background in C logic, but I never found any tutorial how to do such operations in julia. can you propose some resources ?</li>\n</ul>",
        "id": 325011711,
        "sender_full_name": "Filippos Christou",
        "timestamp": 1675197762
    },
    {
        "content": "<p>In julia, array slicing creates a copy instead of a view. You just need to do <code>a = @view c[1:3]</code> and it should work fine. (Or <code>a = view(c, 1:3)</code> if you prefer).</p>",
        "id": 325014243,
        "sender_full_name": "Mason Protter",
        "timestamp": 1675198681
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nd\">@view</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"p\">];</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"></span>\n<span class=\"mi\">6</span><span class=\"o\">-</span><span class=\"n\">element</span><span class=\"w\"> </span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Int64</span><span class=\"p\">}</span><span class=\"o\">:</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">4</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">6</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 325014348,
        "sender_full_name": "Mason Protter",
        "timestamp": 1675198710
    },
    {
        "content": "<p>thanks! is there any way I can do the opposite ? That is:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">];</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">];</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nd\">@view</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"k\">end</span><span class=\"p\">])</span><span class=\"o\">...</span><span class=\"p\">,</span><span class=\"nd\">@view</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"k\">end</span><span class=\"p\">])</span><span class=\"o\">...</span><span class=\"p\">];</span><span class=\"w\"> </span><span class=\"c\">#something similar here</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">julia</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"></span>\n<span class=\"mi\">3</span><span class=\"o\">-</span><span class=\"n\">element</span><span class=\"w\"> </span><span class=\"kt\">Vector</span><span class=\"p\">{</span><span class=\"kt\">Int64</span><span class=\"p\">}</span><span class=\"o\">:</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"></span>\n<span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Now <code>a=[1,2,3]</code>, but I would like that to be <code>[10,2,3]</code>.</p>",
        "id": 325018373,
        "sender_full_name": "Filippos Christou",
        "timestamp": 1675200114
    },
    {
        "content": "<p>I haven't used it myself, but I believe you're looking for the <code>mortar</code> function from <a href=\"https://github.com/search?q=BlockArrays.jl&amp;type=Repositories\">BlockArrays.jl</a>. If not, it might be in <a href=\"https://github.com/search?q=LazyArrays.jl&amp;type=Repositories\">LazyArrays.jl</a>.</p>\n<p>If neither have it, implementing yourself should only be a couple hours work. The basic approach is to create a wrapper struct around either an array of arrays or ntuple of arrays depending on your requirements and then implement the array interface on your new type so that it passes through.</p>",
        "id": 325158359,
        "sender_full_name": "Adam non-jedi Beckmeyer",
        "timestamp": 1675258229
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"425512\">Filippos Christou</span> <a href=\"#narrow/stream/274208-helpdesk-.28published.29/topic/Ref.20help/near/325011711\">said</a>:</p>\n<blockquote>\n<ul>\n<li>Is the usage of <code>Ref</code> and <code>Ptr</code> considered good practice ?</li>\n<li>I have some okey-ish background in C logic, but I never found any tutorial how to do such operations in julia. can you propose some resources ?</li>\n</ul>\n</blockquote>\n<p>For most array manipulation in Julia, there's generally going to be a \"better\" way than doing transformations on raw <code>Ptr</code>s/<code>Ref</code>s, so it's generally good practice to avoid them. The big thing this gains you is composability within the package ecosystem since so many things work using the array interface from <code>Base</code>. If you don't care about the arrays you're working with being compatible with the wider ecosystem and are confident in your ability to avoid incorrect pointer arithmetic (I'm not), working with pointers is always an option. <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> Julia isn't real big on keeping you from doing things even if they are bad ideas.</p>",
        "id": 325159411,
        "sender_full_name": "Adam non-jedi Beckmeyer",
        "timestamp": 1675258500
    }
]