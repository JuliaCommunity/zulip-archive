[
    {
        "content": "<p>I often find myself hesitating between these two options:</p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"k\">struct</span> <span class=\"kt\">A</span><span class=\"p\">{</span><span class=\"kt\">B</span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">end</span>\n<span class=\"n\">eltype</span><span class=\"p\">(</span><span class=\"kt\">A</span><span class=\"p\">{</span><span class=\"kt\">B</span><span class=\"p\">})</span><span class=\"w\"> </span><span class=\"k\">where</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"kt\">B</span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">B</span>\n\n<span class=\"n\">method</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">::</span><span class=\"kt\">A</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">do_stuff_with</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">eltype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">))</span><span class=\"w\">      </span><span class=\"c\"># ?</span>\n<span class=\"n\">method</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">::</span><span class=\"kt\">A</span><span class=\"p\">{</span><span class=\"kt\">B</span><span class=\"p\">})</span><span class=\"w\"> </span><span class=\"k\">where</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"kt\">B</span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">do_stuff_with</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c\"># ?</span>\n</code></pre></div>\n<p>What's the difference? What do they imply? Are there contexts in which I should prefer either over the other?</p>",
        "id": 530753960,
        "sender_full_name": "iago-lito",
        "timestamp": 1753443311
    },
    {
        "content": "<p>They are the same in almost all cases, except:</p>\n<ul>\n<li>The latter forces specialization on <code>B</code>: <a href=\"https://docs.julialang.org/en/v1/manual/performance-tips/#Be-aware-of-when-Julia-avoids-specializing\">https://docs.julialang.org/en/v1/manual/performance-tips/#Be-aware-of-when-Julia-avoids-specializing</a></li>\n<li>The latter allows you to constrain <code>B</code>, which may be necessary to avoid ambiguities in situations where you have <code>struct A{B &lt;:Integer} end</code>, where <code>A</code> is a different type from <code>A{B} where B</code></li>\n</ul>\n<p>The style guide <a href=\"https://docs.julialang.org/en/v1/manual/style-guide/#Don't-use-unnecessary-static-parameters\">recommends the former</a>, so I say: Use that, unless you are in the edge cases where you need specialization, or in that weird subtyping edge case</p>",
        "id": 530755818,
        "sender_full_name": "Jakob Nybo Nissen",
        "timestamp": 1753444030
    }
]