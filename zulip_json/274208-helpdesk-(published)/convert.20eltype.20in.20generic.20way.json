[
    {
        "content": "<p>I'm looking for something that has approximately the same behavior as </p>\n<div class=\"codehilite\" data-code-language=\"Julia\"><pre><span></span><code><span class=\"n\">convert_eltype</span><span class=\"p\">(</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">convert</span><span class=\"p\">(</span><span class=\"n\">typeof</span><span class=\"p\">(</span><span class=\"n\">similar</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">T</span><span class=\"p\">)),</span> <span class=\"n\">x</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>i.e. it would preserve the <code>&lt;:AbstractArray</code> type (e.g. <code>StaticArray</code>, <code>OffsetArray</code>,  ...)</p>\n<p>Related: <a href=\"https://github.com/JuliaGPU/Adapt.jl\">https://github.com/JuliaGPU/Adapt.jl</a></p>",
        "id": 234260488,
        "sender_full_name": "Gustavo Goretkin",
        "timestamp": 1618282303
    }
]